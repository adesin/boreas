var Boreas=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),c=r(l),f=n(11),d=r(f),p=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__events={},e.__registerEvents(["ready"]),e}return i(t,e),s(t,[{key:"initialize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body");"string"==typeof e&&$(e),this.trigger("ready")}},{key:"someModuleMethod",value:function(){var e=this;e.getApplicationInstance()}},{key:"on",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){};return e&&t&&"function"==typeof t?void 0===this.__events[e]?(this.log(this.constructor.name+'.on: Событие "'+e+'" не определено'),!1):this.__events[e].addHandler(t):(this.log(this.constructor.name+".on: Не переданы обязательные параметры"),!1)}},{key:"off",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!!e&&(void 0===this.__events[e]?(this.log(this.constructor.name+'.off: Событие "'+e+'" не определено'),!1):t&&"function"==typeof t?void this.__events[e].removeHandler(t):(delete this.__events[e],!0))}},{key:"trigger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0!==this.__events[e]&&this.__events[e].execute(t,this)}},{key:"__registerEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t)return!1;if("object"==(void 0===t?"undefined":u(t)))t.forEach(function(t,n){e.__events[t]=new d.default({name:t})});else if("string"==typeof t){var n=t;this.__events[n]=new d.default({name:n})}return!0}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=a;return i.name=e,i.element=n,i.processed=!1,i.timeStart=null,i.timeFinish=null,i.timeFinish=null,i.data=[],i.initialize(),a}return a(t,e),i(t,[{key:"initialize",value:function(){var e=this;e.timeStart=new Date,e.on("ready",function(t){e.processed=!0,e.timeFinish=new Date})}},{key:"addData",value:function(e){this.data.push(e)}},{key:"getTime",value:function(){var e=this;if(!0===e.processed)e.timeFinish.getTime()-e.timeStart.getTime();else{(new Date).getTime()-e.timeStart.getTime()}}}]),t}(s.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(1),f=r(c),d=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.params={},e}return i(t,e),u(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;$.extend(!0,t.params,e),t.items.push(new f.default("Some Item"));for(var n in items)items[n].trigger("ready");t.trigger("ready")}},{key:"addItem",value:function(e){var t=this,n=t.getApplicationInstance();n.preloader.__items.push(e),console.log("adding handler item "+e.name),e.on("ready",function(){console.log("loaded handler item "+e.name);var t=0;for(var r in n.preloader.__items)!0===n.preloader.__items[r].processed&&t++;n.preloader.trigger("progress",{total:n.preloader.__items.length,processed:t,item:e})})}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.isLoading=0,e}return a(t,e),i(t,[{key:"process",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.hide():this.show()}},{key:"show",value:function(){var e=this;1===++e.isLoading&&this.__showLoader()}},{key:"hide",value:function(){var e=this;e.isLoading>0&&e.isLoading--,0===e.isLoading&&this.__hideLoader()}},{key:"__showLoader",value:function(){"undefined"!=typeof BX?BX.showWait():console&&console.log&&console.log("Для работы данного метода должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс")}},{key:"__hideLoader",value:function(){"undefined"!=typeof BX?BX.showWait():console&&console.log&&console.log("Для работы данного метода должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс")}}]),t}(s.default);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return o(e,[{key:"log",value:function(e){console&&console.log&&console.log(e)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(1),f=r(c),d=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.params={selector:"html",regex:{file:/(?:href="(.*?)")|(?:src="(.*?)")|(?:url\((.*?)\))/gi,quote:/(&quot;)|(')|(")/g,font:/@font-face\s*{([^}]*)}/gi,url:/url\(([^\)]+)\)/gi},extensions:{image:["jpg","jpeg","png","gif","svg"],css:["css","less","scss"]},searchInCss:!0},e.__found=null,e.__loaded=[],e}return i(t,e),u(t,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$.extend(!0,this.params,t),this.__found={font:[]};for(var n in this.params.extensions)this.__found[n]=[];var r=$(this.params.selector).html();this.__findSources(r),!0===this.params.searchInCss&&this.__found.css.length?this.__processCss(r).done(function(){e.__loadFiles()}):this.__loadFiles()}},{key:"getStatus",value:function(){return{total:this.__found.image.length,loaded:this.__loaded.length,src:null,desc:null}}},{key:"__findSources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.__findFonts(e);for(var n=void 0;n=this.params.regex.file.exec(e);)for(var r=n.length-1;r>=0;r--)if(void 0!==n[r]){var o=n[r];if(-1===o.indexOf("//")&&(o=t+o),o=o.replace(this.params.regex.quote,""),!o.length||"#"==o||-1!==o.indexOf("data:"))break;if(-1!==this.__found.font.indexOf(o))break;var a=this.__identifyFileType(o);a&&-1==this.__found[a].indexOf(o)&&this.__found[a].push(o);break}}},{key:"__findFonts",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=void 0,r=void 0;n=this.params.regex.font.exec(e);)for(var o=n.length-1;o>=0;o--)if(void 0!==n[o]){for(var a=n[o];r=this.params.regex.url.exec(a);)for(var i=r.length-1;i>=0;i--)if(void 0!==r[i]){var u=t+r[i];if(u=u.replace(this.params.regex.quote,""),!u.length||"#"==u||-1!==u.indexOf("data:"))break;this.__found.font.push(u);break}break}}},{key:"__identifyFileType",value:function(e){var t=!1,n=/[.]/.exec(e)?/[^.]+$/.exec(e).toString():void 0;if(void 0===n)return!1;for(var r in this.params.extensions)if(-1!==this.params.extensions[r].indexOf(n)){t=r;break}return t}},{key:"__loadFiles",value:function(){if(void 0!==this.__found.image&&this.__found.image.length)for(var e in this.__found.image)this.__loadImageAsync(this.__found.image[e])}},{key:"__loadImageAsync",value:function(e){var t=this,n=new $.Deferred,r=new Image;r.src=e;var o=new f.default(e,r);return t.addItem(o),r.addEventListener("load",function(){n.resolve(),o.trigger("ready")}),r.addEventListener("error",function(){n.resolve(),o.addData("Unexpected error while loading image"),o.trigger("ready")}),n}},{key:"__processCss",value:function(){var e=[];for(var t in this.__found.css)e.push(this.__processUrlAsync(this.__found.css[t]));return $.when.apply(void 0,e).promise()}},{key:"__processUrlAsync",value:function(e){var t=this,n=new $.Deferred,r="";return-1===e.indexOf("//")&&(r=e.replace(/^(.*\/).*$/i,"$1")),$.ajax({url:e}).done(function(e){t.__findSources(e,r),n.resolve()}).fail(function(){n.resolve()}),n}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(1),f=r(c),d=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.params={selector:"audio, video",blob:!1},e.__total=0,e.__loaded=0,e}return i(t,e),u(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;$.extend(!0,this.params,e);t.__loadMedia().done(function(){t.trigger("ready")})}},{key:"getStatus",value:function(){return{total:this.__total,loaded:this.__loaded,src:null,desc:null}}},{key:"__loadMedia",value:function(){var e=this,t=[],n=[];if($(this.params.selector).each(function(){var r=this,o=new $.Deferred,a=r.tagName.toLowerCase(),i=document.createElement(a);i.src=r.currentSrc;var u=new f.default(i.src,i);e.addItem(u),i.load();var s=function(){n.push(r.currentSrc),u.trigger("ready"),o.resolve()};i.addEventListener("canplaythrough",function(){-1===n.indexOf(r.currentSrc)&&s()},!1),i.addEventListener("error",function(e){if(-1===n.indexOf(r.currentSrc)){s();var t=r.currentSrc.split("/");u.addData(t[t.length-1]+" file was resolved by event: error")}},!1);var l=["suspend","stalled"];for(var c in l)!function(e){var t=l[e];i.addEventListener(t,function(e){if(-1===n.indexOf(r.currentSrc)){s();var o=r.currentSrc.split("/");u.addData(o[o.length-1]+" file was resolved by event: "+t)}})}(c);t.push(o)}),!t.length){var r=new $.Deferred;r.resolve(),t.push(r)}return $.when.apply(void 0,t).promise()}},{key:"__loadMediaBlob",value:function(){var e=this,t=[];if($(this.params.selector).each(function(){var n=this,r=new $.Deferred;e.__total++;var o=new XMLHttpRequest;o.open("GET",n.currentSrc,!0),o.responseType="blob",o.onload=function(){if(200===this.status){var t=this.response,o=URL.createObjectURL(t);n.src=o}e.__updateItem(n.currentSrc),r.resolve()},o.onerror=function(){e.__updateItem(n.currentSrc),r.resolve()},o.send(),t.push(r)}),!t.length){var n=new $.Deferred;n.resolve(),t.push(n)}return $.when.apply(void 0,t).promise()}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),c=n(5),f=r(c),d=n(6),p=r(d),h=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.__registerEvents(["progress"]),n.params={handlers:[],methods:{show:e.__showPreloader,update:e.__updateBar,hide:e.__hidePreloader},css:!0,media:!0,delay:800,timeout:3e4,watcher:!1},n.__handlers=[],n.__items=[],n.__status={total:0,processed:0,src:null,desc:null},n.__$preloader=null,n.__watcherTt=null,n.__ready=!1,e}return i(t,e),u(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if($.extend(!0,t.params,e),t.params.methods.show(),t.addHandler("images",f.default,{searchInCss:t.params.css}),!0===t.params.media&&t.addHandler("media",p.default),t.params.handlers.length)for(var n in t.params.handlers){var r=t.params.handlers[n];void 0===r.params&&(r.params={}),this.addHandler(r.name,r.class,r.params)}t.__initHandlers(),!1!==t.params.watcher&&t.__animationWatcher(),t.params.timeout>0&&setTimeout(function(){!1===t.__ready&&(t.__forceFinish(),t.__ready=!0)},t.params.timeout),t.on("progress",function(e){null===t.__watcherTt&&t.params.methods.update(e),e.processed==e.total&&setTimeout(function(){!1===t.__ready&&(t.trigger("ready"),t.__ready=!0)},t.params.delay)}),t.on("ready",function(){window.scrollTo(0,0),t.params.methods.hide(),!1!==t.params.watcher&&t.__animationWatcher(!1)})}},{key:"addHandler",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__handlers.push({name:e,class:t,params:n})}},{key:"__animationWatcher",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1!==t.params.watcher){var t=this,n=0;!1===e?(clearInterval(this.__watcherTt),t.__watcherTt=null):!0===e&&null===t.__watcherTt&&(t.__watcherTt=setInterval(function(){n<t.__status.loaded&&(t.params.methods.update(t.__status),n=t.__status.processed)},t.params.watcher))}}},{key:"__showPreloader",value:function(){$("body").addClass("boreas-preloader-opened"),this.__$preloader=$(".boreas-preloader"),this.__$preloader.length||(this.__$preloader=$('<div class="boreas-preloader">\n\t\t\t\t<div class="progress">\n\t\t\t\t\t<div class="progress-bar" role="progressbar" style="width: 0%"></div>\n\t\t\t\t</div>\n\t\t\t</div>'),$("body").append(this.__$preloader))}},{key:"__updateBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=parseInt(100/e.total*e.processed);this.__$preloader.find(".progress-bar").css({width:t+"%"}).attr("aria-valuenow",t)}},{key:"__hidePreloader",value:function(){$("body").removeClass("boreas-preloader-opened"),this.__$preloader.fadeOut()}},{key:"__forceFinish",value:function(){var e=this.__status;e.processed=e.total,this.params.methods.update(e),this.trigger("ready")}},{key:"__initHandlers",value:function(){var e=this,t=this;for(var n in this.__handlers)!function(n){e.__handlers[n].class.prototype.getApplicationInstance=t.getApplicationInstance,e.__handlers[n].instance=new e.__handlers[n].class,e.__handlers[n].instance.on("progress",function(r){r.handler=e.__handlers[n].name,t.__updateStatus(r),t.trigger("progress",t.__status)}),e.__handlers[n].instance.initialize(e.__handlers[n].params)}(n)}},{key:"__updateStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__status.total=0,this.__status.processed=0,this.__status.handler=void 0!==e.handler?e.handler:null,this.__status.src=void 0!==e.src?e.src:null,this.__status.desc=void 0!==e.desc?e.desc:null;for(var t in this.__handlers){var n=this.__handlers[t].instance.getStatus();this.__status.total+=n.total,this.__status.processed+=n.processed}}}]),t}(l.default);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l={name:null,load:"auto",async:!0,params:void 0},c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.params={modules:[{name:"loader",load:!0,async:!0,params:{}}],modulesDataAttribute:"boreas-modules"},$.extend(!0,n.params,e),n.__includeModules(n.params.modules),n}return a(t,e),i(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=this,n=null;n="string"==typeof e?$(e):e,this.__loadModules(n,this.params.modules,function(){t.trigger("ready")})}},{key:"registerModule",value:function(e){var t=l;e=$.extend(!0,t,e),this.params.modules.push(e)}},{key:"__includeModules",value:function(e){var t=this;for(var r in e){var o=$.extend({},l);"string"==typeof o?o.name=e[r]:o=$.extend(!0,o,e[r]);var a=void 0!==o.class?o.class:n(13)("./"+o.name).default;a.prototype.getApplicationInstance=function(){return t},this[o.name]=new a}}},{key:"__getApplicationInstance",value:function(e){return e}},{key:"__loadModules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("body"),t=arguments[1],n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this,i=!1===o?null:[];for(var u in t){(function(n){var r=$.extend({},l);"string"==typeof r?r.name=t[n]:r=$.extend(!0,r,t[n]),o!==r.async||a.__isModuleEnabled(e,r)&&(!1===o?null===i?i=a.__loadModule(e,r).promise():i.done(function(){i=a.__loadModule(e,r).promise()}):i.push(a.__loadModule(e,r,!0)))})(u)}if(!1!==o)return $.when.apply(void 0,i).promise();null===i?this.__loadModules(e,t,null,!0).done(r):i.done(function(){n.__loadModules(e,t,null,!0).done(r)})}},{key:"__isModuleEnabled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("body"),t=arguments[1],n=this;if(!0===t.load)return!0;if("auto"===t.load){var r=[],o=e.data(this.params.modulesDataAttribute);if(o){var a=o.split(" ");console.log(a),r=r.concat(a)}if(e.find("[data-"+this.params.modulesDataAttribute+"]").each(function(){var e=$(this).data(n.params.modulesDataAttribute).split(" ");r=r.concat(e)}),-1!==r.indexOf(t.name))return!0}return!1}},{key:"__loadModule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("body"),t=arguments[1],n=new $.Deferred;return this[t.name].on("ready",function(){n.resolve()}),this[t.name].initialize(t.params,e),n}}]),t}(s.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,null,[{key:"bandwidthTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100kb",n=(new Date).getTime(),r=this,o=$.ajax({dataType:"text",url:t+"?t="+Math.random(),success:function(a){var i=(new Date).getTime(),u=o.getResponseHeader("Content-Length"),s=(i-n)/1e3,l=8*u,c=(l/s).toFixed(2),f=(c/1024).toFixed(2),d=(f/1024).toFixed(2);"function"==typeof e?e({url:t,size:u,bps:c,kbps:f,mbps:d}):r.log("Boreas.network.bandwidthTest: callback не является функцией")}})}}]),t}(s.default);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name=void 0!==e.name?e.name:null,n.handlers=[],n}return a(t,e),u(t,[{key:"addHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return"object"==(void 0===e?"undefined":i(e))&&"function"==typeof e.callback?t=e:"function"==typeof e?t.callback=e:this.log("Неправильные параметры хэндлера"),"function"==typeof t.callback&&(this.handlers.push(t),!0)}},{key:"removeHandler",value:function(e){return this.handlers.length&&this.handlers.forEach(function(t,n,r){t.callback===e&&r.splice(n,1)}),!1}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.handlers.length&&this.handlers.forEach(function(t,n){return t.callback(e,t),!0}),!1}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loader=t.network=t.preloaderHandlerItem=t.preloaderHandler=t.extend=t.module=t.application=void 0;var o=n(8),a=r(o),i=n(0),u=r(i),s=n(2),l=r(s),c=n(1),f=r(c),d=n(9),p=r(d),h=n(10),_=r(h),v=n(3),y=r(v);t.application=a.default,t.module=u.default,t.extend=p.default,t.preloaderHandler=l.default,t.preloaderHandlerItem=f.default,t.network=_.default,t.loader=y.default},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./loader":3,"./loader.js":3,"./preloader":7,"./preloader.js":7,"./preloader/handler":2,"./preloader/handler.js":2,"./preloader/handlerItem":1,"./preloader/handlerItem.js":1,"./preloader/imagesHandler":5,"./preloader/imagesHandler.js":5,"./preloader/mediaHandler":6,"./preloader/mediaHandler.js":6};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=13}]);
//# sourceMappingURL=boreas.min.js.map