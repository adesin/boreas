{"version":3,"sources":["webpack:///webpack/bootstrap 703a58f8d396b7127ff0","webpack:///./src/js/modules/preloader/handler.js","webpack:///./src/js/lib/module.js","webpack:///./src/js/lib/base.js","webpack:///./src/js/modules/loader.js","webpack:///./src/js/modules/preloader.js","webpack:///./src/js/modules/preloader/imagesHandler.js","webpack:///./src/js/modules/preloader/mediaHandler.js","webpack:///./src/js/lib/application.js","webpack:///./src/js/lib/extend.js","webpack:///./src/js/lib/event.js","webpack:///./src/js/main.js","webpack:///./src/js/modules ^\\.\\/.*$"],"names":["handler","__registerEvents","params","Object","assign","trigger","getStatus","total","loaded","src","module","__events","name","callback","log","constructor","addHandler","removeHandler","execute","value","forEach","k","base","message","console","__isLoading","loader","show","hide","__showLoader","__hideLoader","BX","showWait","preloader","handlers","methods","__showPreloader","update","__updatePreloader","__hidePreloader","media","delay","timeout","__handlers","__total","__loaded","__$preloader","_this","_ready","length","i","class","__load","setTimeout","__forceFinish","on","status","handlerClass","push","$","addClass","append","__getStatus","percent","parseInt","find","css","width","attr","removeClass","fadeOut","__updateStatus","instance","initialize","desc","handlerStatus","imagesHandler","selector","regex","file","quote","extensions","image","searchInCss","__found","type","str","html","__findSources","__processCss","done","__loadFiles","match","exec","url","replace","indexOf","fileType","__identifyFileType","filetype","extension","toString","undefined","promise","__loadFileAsync","defer","Deferred","Image","onload","resolve","onerror","__processUrlAsync","when","apply","ajax","response","fail","mediaHandler","scope","__loadMedia","each","preload","load","oncanplay","__itemLoaded","currentSrc","defaults","modules","async","modulesDataAttribute","moduleDefaults","application","__includeModules","__loadModules","moduleItem","moduleClass","default","__isModuleEnabled","__loadModule","data","split","concat","extend","subClass","superClass","TypeError","prototype","create","enumerable","writable","configurable","setPrototypeOf","__proto__","event","index","object","splice","preloaderHandler"],"mappings":"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","file":"./dist/boreas.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 703a58f8d396b7127ff0","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 13.06.2017\r\n * Time: 9:37\r\n */\r\n\r\nimport module from \"../../lib/module\";\r\n\r\n/**\r\n * Данный абстрактный класс используется для наследования от него обработчиков модуля preloader\r\n *\r\n * Обязатенльные методы:\r\n * initialize() - Производоит инициализацию обработчика\r\n * getStatus() - объект { total: N1, loaded: N2 }, где N1 - общее число загружаемых элементов, а N2 - число загруженных на данный момент  элементов\r\n *\r\n * Обязательно должны выполняться события:\r\n * progress - отдаёт прелодеру новое число загруженных элементов\r\n * ready - сообщает прелодеру, что обработчик загрузил все элементы\r\n *\r\n */\r\nexport default class handler extends module {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t\tthis.__registerEvents(['progress', 'start']);\r\n\t}\r\n\r\n\tinitialize (params={}) {\r\n\t\tthis.params = Object.assign({}, this.params, params);\r\n\r\n\t\tthis.trigger('progress', this.getStatus());\r\n\t\tthis.trigger('ready');\r\n\t}\r\n\r\n\tgetStatus () {\r\n\t\treturn {\r\n\t\t\ttotal: 0,\r\n\t\t\tloaded: 0,\r\n\t\t\tsrc: null,\r\n\t\t};\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader/handler.js","/**\r\n * Клас описывает стандартный функционал модулей.\r\n * От него необходимо наследовать все модули приложения.\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 08.06.2017\r\n * Time: 12:10\r\n */\r\n\r\nimport base from './base';\r\nimport event from './event';\r\n\r\nexport default class module extends base {\r\n\r\n\t/**\r\n\t * Конструктор класса\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.__events = {};\r\n\t\tthis.__registerEvents(['ready']);\r\n\t}\r\n\r\n\t/**\r\n\t * Инициализация модуля\r\n\t * @param params Параметры\r\n\t */\r\n\tinitialize(params = {}){\r\n\t\tthis.trigger('ready');\r\n\t\t//this.log(`Module \"${this.constructor.name}\" initialized`);\r\n\t}\r\n\r\n\t/**\r\n\t * Добавление обработчика события модуля\r\n\t * @param name Имя события\r\n\t * @param callback Функция-обработчик события\r\n\t * @returns {boolean}\r\n\t */\r\n\ton (name=null, callback=(params, handler)=>{}){\r\n\t\tif(!name || !callback || typeof callback != 'function'){\r\n\t\t\tthis.log(`${this.constructor.name}.on: Не переданы обязательные параметры`);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif(typeof this.__events[name] == 'undefined'){\r\n\t\t\tthis.log(`${this.constructor.name}.on: Событие \"${name}\" не определено`);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn this.__events[name].addHandler(callback);\r\n\t}\r\n\r\n\t/**\r\n\t * Удаление обработчика события\r\n\t * @param name Имя события\r\n\t * @param callback Функция-обработчик события. Если не передана, то метод удалит все обработчики\r\n\t * @returns {boolean}\r\n\t */\r\n\toff (name=null, callback=null){\r\n\t\tif(!name) return false;\r\n\r\n\t\tif(typeof this.__events[name] == 'undefined'){\r\n\t\t\tthis.log(`${this.constructor.name}.off: Событие \"${name}\" не определено`);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif(callback && typeof callback == 'function'){\r\n\t\t\tthis.__events[name].removeHandler(callback);\r\n\t\t}else{\r\n\t\t\tdelete this.__events[name];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t//return false;\r\n\t}\r\n\r\n\t/**\r\n\t * Выполнение события модуля\r\n\t * @param name Имя события\r\n\t * @param params Параметры, которые будут переданы callback-функции\r\n\t * @return {boolean}\r\n\t */\r\n\ttrigger (name=null, params = {}) {\r\n\t\tif(typeof this.__events[name] != 'undefined'){\r\n\t\t\treturn this.__events[name].execute(params);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Регистрация событий модуля\r\n\t * @param value Имя события или массив\r\n\t * @private\r\n\t */\r\n\t__registerEvents(value=null){\r\n\t\tif(!value) return false;\r\n\r\n\t\tif(typeof value == 'object'){\r\n\t\t\tvalue.forEach((name, k) => {\r\n\t\t\t\tthis.__events[name] = new event({\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}else if(typeof value == 'string'){\r\n\t\t\tlet name = value;\r\n\t\t\tthis.__events[name] = new event({\r\n\t\t\t\tname: name,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/module.js","/**\r\n * Базовый класс. От него наследуются все классы приложения\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 09.06.2017\r\n * Time: 9:24\r\n */\r\n\r\nexport default class base {\r\n\tlog (message) {\r\n\t\tif(console && console.log) {\r\n\t\t\tconsole.log(message);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/base.js","/**\r\n * Класс loader\r\n * Выполняет отображение и скрытие индикатора загрузки\r\n *\r\n * Внимание! Для работы данного класса должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 06.06.2017\r\n * Time: 14:49\r\n */\r\n\r\nimport module from \"../lib/module\";\r\n\r\nlet __isLoading = 0;\r\n\r\nexport default class loader extends module {\r\n\r\n\t/**\r\n\t *  Метод показывает или прячет загрузчик\r\n\t * @param show\r\n\t */\r\n\tprocess(show = true){\r\n\t\tif(show){\r\n\t\t\tthis.show();\r\n\t\t}else{\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *  Метод показывает загрузчик или прибавляет счётчик\r\n\t */\r\n\tshow (){\r\n\t\t__isLoading++;\r\n\t\tif(__isLoading === 1){\r\n\t\t\tthis.__showLoader();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *  Метод скрывает загрузчик, или отнимает счётчик\r\n\t */\r\n\thide (){\r\n\t\tif(__isLoading > 0){\r\n\t\t\t__isLoading--;\r\n\t\t}\r\n\t\tif(__isLoading === 0){\r\n\t\t\tthis.__hideLoader();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод отвечает непосредственно за отображение индикатора загрузки\r\n\t * @private\r\n\t */\r\n\t__showLoader (){\r\n\t\tif(typeof BX != 'undefined'){\r\n\t\t\tBX.showWait();\r\n\t\t}else{\r\n\t\t\tif(console && console.log){\r\n\t\t\t\tconsole.log(\"Для работы данного метода должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод отвечает непосредственно за скрытие индикатора загрузки\r\n\t * @private\r\n\t */\r\n\t__hideLoader (){\r\n\t\tif(typeof BX != 'undefined'){\r\n\t\t\tBX.showWait();\r\n\t\t}else{\r\n\t\t\tif(console && console.log){\r\n\t\t\t\tconsole.log(\"Для работы данного метода должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/loader.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 06.06.2017\r\n * Time: 17:01\r\n */\r\n\r\nimport module from \"../lib/module\";\r\nimport imagesHandler from \"./preloader/imagesHandler\";\r\nimport mediaHandler from \"./preloader/mediaHandler\";\r\n\r\nexport default class preloader extends module {\r\n\r\n\tconstructor (){\r\n\t\tsuper();\r\n\r\n\t\tthis.__registerEvents(['progress']);\r\n\t\tthis.params = {\r\n\t\t\thandlers: [],   //  Дополнительные обработчики\r\n\t\t\tmethods: {      //  Методы для работы с представлениям, для переопределения\r\n\t\t\t\tshow: this.__showPreloader,\r\n\t\t\t\tupdate: this.__updatePreloader,\r\n\t\t\t\thide: this.__hidePreloader,\r\n\t\t\t},\r\n\t\t\tmedia: true,    //  Обрабатывать HTML5 Media (<audio>  и <video>)\r\n\t\t\tdelay: 400,     //  Время ожидания перед скрытием прелодера\r\n\t\t\ttimeout: 10000, //  Максимальное время загрузки (на случай зависания)\r\n\t\t};\r\n\t\tthis.__handlers = [];\r\n\t\tthis.__total = 0;\r\n\t\tthis.__loaded = 0;\r\n\t\tthis.__$preloader = null;\r\n\t}\r\n\r\n\tinitialize (params={}) {\r\n\t\tlet _this = this,\r\n\t\t\t_ready = false;\r\n\t\tthis.params = Object.assign({}, this.params, params);\r\n\t\tthis.params.methods.show();\r\n\r\n\t\t//  Обработчики по-умолчанию\r\n\t\tthis.addHandler('images', imagesHandler);\r\n\t\tif(this.params.media === true){\r\n\t\t\tthis.addHandler('media', mediaHandler);\r\n\t\t}\r\n\r\n\t\t//  Пользовательские обработчики\r\n\t\tif(this.params.handlers.length){\r\n\t\t\tfor(let i in this.params.handlers){\r\n\t\t\t\tlet handler = this.params.handlers[i];\r\n\t\t\t\tif(typeof handler.params == 'undefined') handler.params = {};\r\n\t\t\t\tthis.addHandler(handler.name, handler.class, handler.params);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.__load();\r\n\t\tsetTimeout(()=>{\r\n\t\t\tif(_ready === false){\r\n\t\t\t\t_this.__forceFinish();\r\n\t\t\t\t_ready = true;\r\n\t\t\t}\r\n\t\t}, this.params.timeout)  //  На случай если загрузка длится дольше, чем указано в настройках\r\n\t\tthis.on('progress', (status) => {\r\n\t\t\tthis.params.methods.update(status);\r\n\t\t\tif(status.loaded == status.total){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tif(_ready === false){\r\n\t\t\t\t\t\t_this.trigger('ready');\r\n\t\t\t\t\t\t_ready = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, _this.params.delay);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.on('ready', () => {\r\n\t\t\tthis.params.methods.hide();\r\n\t\t});\r\n\t}\r\n\r\n\taddHandler (name, handlerClass, params={}) {\r\n\t\tthis.__handlers.push({\r\n\t\t\tname: name,\r\n\t\t\tclass: handlerClass,\r\n\t\t\tparams: params,\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t__showPreloader (){\r\n\t\t$('body').addClass('boreas-preloader-opened');\r\n\t\tthis.__$preloader = $('.boreas-preloader');\r\n\t\tif(!this.__$preloader.length){\r\n\t\t\tthis.__$preloader = $(`<div class=\"boreas-preloader\">\r\n\t\t\t\t<div class=\"progress\">\r\n\t\t\t\t\t<div class=\"progress-bar\" role=\"progressbar\" style=\"width: 0%\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`);\r\n\t\t\t$('body').append(this.__$preloader);\r\n\t\t}\r\n\t}\r\n\t__updatePreloader (status=this.__getStatus()) {\r\n\t\tlet percent = parseInt(100 / status.total * status.loaded);\r\n\t\tthis.__$preloader\r\n\t\t\t.find('.progress-bar')\r\n\t\t\t.css({width: percent+'%'})\r\n\t\t\t.attr('aria-valuenow', percent)\r\n\t\t\t//.text(percent+'%');\r\n\t}\r\n\t__hidePreloader (){\r\n\t\t$('body').removeClass('boreas-preloader-opened');\r\n\t\tthis.__$preloader.fadeOut();\r\n\t}\r\n\r\n\t__forceFinish (){\r\n\t\tlet status = this.__updateStatus();\r\n\t\tstatus.loaded = status.total;\r\n\t\tthis.params.methods.update(status);\r\n\t\tthis.trigger('ready');\r\n\r\n\t}\r\n\r\n\t__load () {\r\n\t\tlet _this = this;\r\n\r\n\t\tfor(let i in this.__handlers){\r\n\t\t\tthis.__handlers[i].instance = new this.__handlers[i].class();\r\n\t\t\tthis.__handlers[i].instance.on('progress', (params) => {\r\n\t\t\t\t_this.__updateStatus(params)\r\n\t\t\t\t_this.trigger('progress', _this.__updateStatus(params));\r\n\t\t\t});\r\n\r\n\t\t\tthis.__handlers[i].instance.initialize(this.__handlers[i].params);\r\n\t\t}\r\n\t}\r\n\r\n\t__updateStatus (params={}){\r\n\t\tlet status = {\r\n\t\t\ttotal: 0,\r\n\t\t\tloaded: 0,\r\n\t\t\tsrc: (typeof params.src != 'undefined') ? status.src : null,\r\n\t\t\tdesc: (typeof params.desc != 'undefined') ? status.desc : null,\r\n\t\t}\r\n\r\n\t\tfor(let i in this.__handlers) {\r\n\t\t\tlet handlerStatus = this.__handlers[i].instance.getStatus();\r\n\t\t\tstatus.total += handlerStatus.total;\r\n\t\t\tstatus.loaded += handlerStatus.loaded;\r\n\t\t}\r\n\r\n\t\treturn status;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 12.06.2017\r\n * Time: 18:53\r\n */\r\n\r\nimport handler from \"./handler\";\r\n\r\nexport default class imagesHandler extends handler {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\r\n\t\tthis.params = {\r\n\t\t\tselector: 'html',\r\n\t\t\tregex: {\r\n\t\t\t\tfile: /(?:href=\"(.*?)\")|(?:src=\"(.*?)\")|(?:url\\((.*?)\\))/ig,\r\n\t\t\t\tquote: /(&quot;)|(')|(\")/g,\r\n\t\t\t\t//url: /^.*url\\(([^\\)]+)\\).*$/i\r\n\t\t\t},\r\n\t\t\textensions: {\r\n\t\t\t\timage: [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"],\r\n\t\t\t\tcss: ['css', 'less', 'scss'],\r\n\t\t\t\t//js: ['js'],\r\n\t\t\t},\r\n\t\t\tsearchInCss: true,\r\n\t\t};\r\n\t\tthis.__found = null;\r\n\t\tthis.__loaded = [];\r\n\t}\r\n\r\n\tinitialize (params = {}) {\r\n\t\tthis.params = Object.assign({}, this.params, params);\r\n\r\n\t\t//  Создаём ключи объекта в который будут помещаться найденные ресурсы\r\n\t\tthis.__found = {};\r\n\t\tfor(let type in this.params.extensions){\r\n\t\t\tthis.__found[type] = [];\r\n\t\t}\r\n\r\n\t\t//  Ищем ресурсы в области, селектора, переданного в параметрах\r\n\t\tlet str = $(this.params.selector).html();\r\n\t\tthis.__findSources(str);\r\n\r\n\t\t//  Если в параметрах включена подгрузка CSS - то грузим их и обрабатываем\r\n\t\tif(this.params.searchInCss === true && this.__found.css.length){\r\n\t\t\tthis.__processCss(str).done(() => {\r\n\t\t\t\tthis.__loadFiles();\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tthis.__loadFiles();\r\n\t\t}\r\n\t}\r\n\r\n\tgetStatus (){\r\n\t\treturn {\r\n\t\t\ttotal: this.__found.image.length,\r\n\t\t\tloaded: this.__loaded.length,\r\n\t\t\tsrc: null,\r\n\t\t\tdesc: null,\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Метод ищет ресурсы в строке\r\n\t * @param str HTML или CSS\r\n\t * @private\r\n\t */\r\n\t__findSources (str) {\r\n\t\tlet match;\r\n\t\twhile(match = this.params.regex.file.exec(str)){\r\n\t\t\tfor(let i = match.length - 1; i >= 0; i--){\r\n\t\t\t\tif(typeof match[i] !== 'undefined'){\r\n\t\t\t\t\tlet url = match[i];\r\n\t\t\t\t\turl = url.replace(this.params.regex.quote, ''); //  Убираем ковычки из URL\r\n\t\t\t\t\tif(!url.length || url == '#' || url.indexOf('data:') !== -1) break; //  Отсекаем мусор\r\n\t\t\t\t\tlet fileType = this.__identifyFileType(url);\r\n\t\t\t\t\tif(fileType){\r\n\t\t\t\t\t\tthis.__found[fileType].push(url);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Определяет тип файла по URL. Соответствия расширений определены в параметрах инициализации\r\n\t * @param url URL\r\n\t * @return {string|false} Метод возвращает тип файла или false\r\n\t * @private\r\n\t */\r\n\t__identifyFileType (url) {\r\n\t\tlet filetype = false,\r\n\t\t\textension = (/[.]/.exec(url)) ? /[^.]+$/.exec(url).toString() : undefined;\r\n\r\n\t\tif(typeof extension == 'undefined') return false;\r\n\t\tfor(let type in this.params.extensions){\r\n\t\t\tif(this.params.extensions[type].indexOf(extension) !== -1){\r\n\t\t\t\tfiletype = type;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filetype;\r\n\t}\r\n\r\n\t/**\r\n\t * Загрузка файлов\r\n\t * @private\r\n\t */\r\n\t__loadFiles () {\r\n\t\tif (!this.__found.image.length) return;\r\n\t\tlet promise = [];\r\n\r\n\t\tfor(let i in this.__found.image){\r\n\t\t\tthis.__loadFileAsync(this.__found.image[i]).promise().done(() => {\r\n\t\t\t\tthis.__updateStatus(this.__found.image[i]);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Обновление статуса загрузки файла\r\n\t * @param src\r\n\t * @private\r\n\t */\r\n\t__updateStatus (src) {\r\n\t\tif(!this.__loaded) {\r\n\t\t\tthis.__loaded = [];\r\n\t\t}\r\n\t\tthis.__loaded.push(src);\r\n\r\n\t\tlet status = this.getStatus();\r\n\t\tstatus.src = src;\r\n\t\tthis.trigger('progress', status);\r\n\r\n\t\tif(status.total == status.loaded){\r\n\t\t\tthis.trigger('ready');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод загружает файл в асинхронном режиме\r\n\t * @param url URL файла\r\n\t * @return {$.Deferred} Метод возвращает Deferred's Promise object\r\n\t * @private\r\n\t */\r\n\t__loadFileAsync (url) {\r\n\t\tlet defer = new $.Deferred();\r\n\r\n\t\tlet image = new Image();\r\n\t\timage.src = url;\r\n\t\timage.onload = function () {\r\n\t\t\tdefer.resolve();\r\n\t\t};\r\n\t\timage.onerror = function () {\r\n\t\t\tdefer.resolve();\r\n\t\t};\r\n\r\n\t\treturn defer;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Загрузка и обработка CSS-файлов\r\n\t * @return {$.Deferred} Метод возвращает Deferred's Promise object\r\n\t * @private\r\n\t */\r\n\t__processCss (){\r\n\t\tlet promise = [];\r\n\t\tfor(var i in this.__found.css){\r\n\t\t\tpromise.push(this.__processUrlAsync(this.__found.css[i]));\r\n\t\t}\r\n\r\n\t\treturn $.when.apply(undefined, promise).promise();\r\n\t}\r\n\r\n\t/**\r\n\t * Запрашивает URL в асинхронном режиме\r\n\t * @param url\r\n\t * @return {$.Deferred} Метод возвращает объект jQuery.Deferred\r\n\t * @private\r\n\t */\r\n\t__processUrlAsync (url){\r\n\t\tlet _this = this,\r\n\t\t\tdefer = new $.Deferred();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url\r\n\t\t}).done((response) => {\r\n\t\t\t_this.__findSources(response);\r\n\t\t\tdefer.resolve();\r\n\t\t}).fail(() => {\r\n\t\t\tdefer.resolve();\r\n\t\t});\r\n\r\n\t\treturn defer;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader/imagesHandler.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 15.06.2017\r\n * Time: 18:22\r\n */\r\n\r\nimport handler from \"./handler\";\r\n\r\nexport default class mediaHandler extends handler {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\r\n\t\tthis.params = {\r\n\t\t\tselector: 'audio, video',\r\n\t\t};\r\n\t\tthis.__total = 0;\r\n\t\tthis.__loaded = 0;\r\n\t}\r\n\r\n\tinitialize (params = {}) {\r\n\t\tlet scope = this;\r\n\t\tthis.params = Object.assign({}, this.params, params);\r\n\r\n\t\tthis.__loadMedia().done(() => {\r\n\t\t\tscope.trigger('ready');\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Получение статуса загрузки\r\n\t * @return {{total: number, loaded: number}}\r\n\t */\r\n\tgetStatus (){\r\n\t\treturn {\r\n\t\t\ttotal: this.__total,\r\n\t\t\tloaded: this.__loaded,\r\n\t\t\tsrc: null,\r\n\t\t\tdesc: null,\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Обработка загрузки медиа\r\n\t * @private\r\n\t */\r\n\t__loadMedia () {\r\n\t\tlet scope = this,\r\n\t\t\tpromise = [];\r\n\r\n\t\t$(this.params.selector).each(function(){\r\n\t\t\tlet media = this,\r\n\t\t\t\tdefer = new $.Deferred();\r\n\r\n\t\t\tscope.__total++;\r\n\r\n\t\t\tif(media.preload == 'none'){\r\n\t\t\t\tmedia.load();\r\n\t\t\t}\r\n\t\t\tmedia.oncanplay = () => {\r\n\t\t\t\tscope.__itemLoaded(media.currentSrc);\r\n\t\t\t\tdefer.resolve();\r\n\t\t\t};\r\n\t\t\tmedia.onerror = () => {\r\n\t\t\t\tscope.__itemLoaded(media.currentSrc);\r\n\t\t\t\tdefer.resolve();\r\n\t\t\t};\r\n\t\t\tpromise.push(defer);\r\n\t\t});\r\n\r\n\t\t//  Если promise пуст, то создаём и резолвим пустой $.Deferred()\r\n\t\tif(!promise.length){\r\n\t\t\tlet defer = new $.Deferred();\r\n\t\t\tdefer.resolve();\r\n\t\t\tpromise.push(defer);\r\n\t\t}\r\n\r\n\t\treturn $.when.apply(undefined, promise).promise();\r\n\t}\r\n\r\n\t/**\r\n\t * Говорим что был загружен один элемент\r\n\t * @private\r\n\t */\r\n\t__itemLoaded (src){\r\n\t\tthis.__loaded++;\r\n\t\tlet status = this.getStatus();\r\n\t\tstatus.src = src;\r\n\t\tthis.trigger('progress', status);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader/mediaHandler.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 06.06.2017\r\n * Time: 14:38\r\n */\r\n\r\nimport module from \"./module\";\r\n\r\nlet defaults = {\r\n\t\tmodules: [\r\n\t\t\t{\r\n\t\t\t\tname: 'loader', // Имя модуля\r\n\t\t\t\tload: true,     // Загружать модуль. Возможные значения: true\r\n\t\t\t\tasync: true,\r\n\t\t\t\tparams: {\r\n\t\t\t\t\t'param1': 'value1',\r\n\t\t\t\t\t'param2': 'value2',\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*\r\n\t\t\t* Или так:\r\n\t\t\t'loader',\r\n\t\t\t*/\r\n\t\t],\r\n\t\tmodulesDataAttribute: 'boreas-modules',\r\n\t},\r\n\tmoduleDefaults = {\r\n\t\tname: null,\r\n\t\tload: 'auto',\r\n\t\tasync: true,\r\n\t\tparams: undefined,\r\n\t};\r\n\r\nexport default class application extends module {\r\n\r\n\t/**\r\n\t * Конструктор приложения\r\n\t */\r\n\tconstructor(params = {}){\r\n\t\tsuper();\r\n\t\tthis.params = Object.assign({}, defaults, params);\r\n\t\tthis.__includeModules(this.params.modules);\r\n\t}\r\n\r\n\t/**\r\n\t * Инициализация приложения\r\n\t * @param params Объект, содержащий параметры инициализации\r\n\t */\r\n\tinitialize (/*params = {}*/) {\r\n\t\tlet _this = this;\r\n\t\t//params = Object.assign({}, defaults, params);\r\n\r\n\t\tthis.__loadModules(this.params.modules, () => {\r\n\t\t\t_this.trigger('ready');\r\n\t\t})\r\n\t}\r\n\r\n\tregisterModule (module) {\r\n\t\tmodule = Object.assign({}, moduleDefaults, module);\r\n\r\n\t\tthis.params.modules.push(module);\r\n\t}\r\n\r\n\t__includeModules (modules){\r\n\t\tmodules.forEach((moduleItem, k) => {\r\n\t\t\tlet moduleClass;\r\n\r\n\t\t\tif(typeof moduleItem == 'string'){\r\n\t\t\t\tmoduleItem = { name: moduleItem };\r\n\t\t\t}\r\n\t\t\tmoduleItem = Object.assign({}, moduleDefaults, moduleItem);\r\n\t\t\tif(typeof moduleItem.class != 'undefined'){\r\n\t\t\t\tthis[moduleItem.name] = new moduleItem.class();\r\n\t\t\t}else{\r\n\t\t\t\tmoduleClass = require('../modules/' + moduleItem.name).default;\r\n\t\t\t\tthis[moduleItem.name] = new moduleClass();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Метод выполняет загрузку модулей в соответствии блоком \"modules\" параметров инициализации.\r\n\t * Сначала метод вызывается с async = false и по одному, синхронно загружает модули, в том порядке, который был передан в блоке \"modules\" параметров инициализации.\r\n\t * После окончания синхронной загрузки, метод вызывает сам себя и догружает оставшиеся модули в асинхронном режиме.\r\n\t *\r\n\t * @param modules Массив загружаемых модулей\r\n\t * @param callback Функция будет вызвана после окончания загрузки\r\n\t * @param async Асинхронная или синхронная загрузка модуля\r\n\t * @private\r\n\t */\r\n\t__loadModules (modules, callback=null, async=false) {\r\n\t\tlet _this = this,\r\n\t\t\tpromise = (async===false)?null:[];\r\n\r\n\t\tmodules.forEach((moduleItem, k) => {\r\n\t\t\tif(typeof moduleItem == 'string'){\r\n\t\t\t\tmoduleItem = { name: moduleItem };\r\n\t\t\t}\r\n\t\t\tmoduleItem = Object.assign({}, moduleDefaults, moduleItem);\r\n\t\t\tif(async !== moduleItem.async) return;  //  Отсеиваем модули с другим типом загрузки\r\n\t\t\tif(!_this.__isModuleEnabled(moduleItem)) return; //  Отсеиваем отключённые модули\r\n\r\n\t\t\tif(async===false){//  Синхронная загрузка модулей\r\n\t\t\t\tif(promise === null){\r\n\t\t\t\t\tpromise = _this.__loadModule(moduleItem).promise();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tpromise.done(() => {\r\n\t\t\t\t\t\tpromise = _this.__loadModule(moduleItem).promise();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}else{//  Асинхронная загрузка модулей\r\n\t\t\t\tpromise.push(_this.__loadModule(moduleItem, true));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif(async===false) {  //  Загружаем оставшиеся модули синхронно\r\n\t\t\tif(promise === null){  //   Если синхронных не нашлось, то грузим всё асинхронно\r\n\t\t\t\tthis.__loadModules(modules, null, true).done(callback);\r\n\t\t\t}else{\r\n\t\t\t\tpromise.done(() => {\r\n\t\t\t\t\tthis.__loadModules(modules, null, true).done(callback);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}else{//  Асинхронная загрузка модулей\r\n\t\t\treturn $.when.apply(undefined, promise).promise();\r\n\t\t}\r\n\t}\r\n\r\n\t__isModuleEnabled (moduleItem){\r\n\t\tlet _this = this;\r\n\r\n\t\tif(moduleItem.load === true){   // Модуль включён\r\n\t\t\treturn true;\r\n\t\t}else if(moduleItem.load === 'auto'){   // Автоматический ражим загрузки модуля\r\n\t\t\tlet modules = [];\r\n\r\n\t\t\t$('[data-'+this.params.modulesDataAttribute+']').each(function(){\r\n\t\t\t\tlet data = $(this).data(_this.params.modulesDataAttribute).split(\" \");\r\n\t\t\t\tmodules = modules.concat(data);\r\n\t\t\t});\r\n\r\n\t\t\tif(modules.indexOf(moduleItem.name) !== -1){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Загрузка и инициализация модуля\r\n\t * @param moduleClass Класс модуля\r\n\t * @param moduleParams Параметры инициализации модуля\r\n\t * @returns {$.Deferred} Метод возвращает объект jQuery.Deferred или jQuery.Deferred's Promise в зависимости от типа загрузки\r\n\t * @private\r\n\t */\r\n\t__loadModule (moduleItem) {\r\n\t\tlet _this = this,\r\n\t\t\tdefer = new $.Deferred();\r\n\r\n\t\tthis[moduleItem.name].on('ready', function(){\r\n\t\t\tdefer.resolve();\r\n\t\t});\r\n\t\tthis[moduleItem.name].initialize(moduleItem.params);\r\n\t\treturn defer;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/application.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 13.06.2017\r\n * Time: 11:40\r\n */\r\n\r\nexport default function extend(subClass, superClass) {\r\n\tif (typeof superClass !== \"function\" && superClass !== null) {\r\n\t\tthrow new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\r\n\t}\r\n\tsubClass.prototype = Object.create(superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t});\r\n\tif (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/extend.js","/**\r\n * Класс для работы с событиями модуля\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 07.06.2017\r\n * Time: 15:40\r\n */\r\n\r\nimport base from './base';\r\n\r\nexport default class event extends base {\r\n\r\n\t/**\r\n\t * Конструктор класса, добавление private свойств\r\n\t * @param params\r\n\t */\r\n\tconstructor (params = {}){\r\n\t\tsuper();\r\n\t\tthis.name = (typeof params.name != 'undefined')?params.name:null;\r\n\t\tthis.handlers = [];\r\n\t}\r\n\r\n\t/**\r\n\t * Добавление обработчика события\r\n\t * @param params Параметры обработчика\r\n\t * @returns {boolean}\r\n\t */\r\n\taddHandler(params = {}){\r\n\t\tvar handler = {};\r\n\t\tif(typeof params == 'object' && typeof params.callback == 'function'){\r\n\t\t\thandler = params;\r\n\t\t}else if(typeof params == 'function'){\r\n\t\t\thandler.callback = params;\r\n\t\t}else{\r\n\t\t\tthis.log('Неправильные параметры хэндлера');\r\n\t\t}\r\n\r\n\t\tif(typeof handler.callback == 'function'){\r\n\t\t\tthis.handlers.push(handler);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Удаление обработчика события\r\n\t * @param callback Функция-обработчик, которую необходимо удалить\r\n\t * @returns {boolean}\r\n\t */\r\n\tremoveHandler(callback){\r\n\t\tif(this.handlers.length){\r\n\t\t\tthis.handlers.forEach((handler, index, object) => {\r\n\t\t\t\tif(handler.callback === callback){\r\n\t\t\t\t\tobject.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Выполнение события\r\n\t * @returns {boolean}\r\n\t */\r\n\texecute(params={}){\r\n\t\tif(this.handlers.length){\r\n\t\t\tthis.handlers.forEach((handler, i) => {\r\n\t\t\t\thandler.callback(params, handler);\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/event.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 08.06.2017\r\n * Time: 11:22\r\n */\r\n\r\nimport application from './lib/application';\r\nimport module from './lib/module';\r\nimport handler from './modules/preloader/handler';\r\nimport extend from './lib/extend';\r\n\r\nexport {\r\n\tapplication,\r\n\tmodule,\r\n\textend,\r\n\thandler as preloaderHandler\r\n};\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","var map = {\n\t\"./loader\": 3,\n\t\"./loader.js\": 3,\n\t\"./preloader\": 4,\n\t\"./preloader.js\": 4,\n\t\"./preloader/handler\": 0,\n\t\"./preloader/handler.js\": 0,\n\t\"./preloader/imagesHandler\": 5,\n\t\"./preloader/imagesHandler.js\": 5,\n\t\"./preloader/mediaHandler\": 6,\n\t\"./preloader/mediaHandler.js\": 6\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 11;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules ^\\.\\/.*$\n// module id = 11\n// module chunks = 0 1"],"sourceRoot":""}