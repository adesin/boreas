{"version":3,"sources":["webpack:///webpack/bootstrap ad2935ce3550140d30a1","webpack:///./src/js/lib/module.js","webpack:///./src/js/modules/preloader/handler.js","webpack:///./src/js/lib/base.js","webpack:///./src/js/modules/preloader/imagesHandler.js","webpack:///./src/js/modules/preloader/mediaHandler.js","webpack:///./src/js/modules/loader.js","webpack:///./src/js/modules/preloader.js","webpack:///./src/js/lib/application.js","webpack:///./src/js/lib/extend.js","webpack:///./src/js/lib/network.js","webpack:///./src/js/lib/event.js","webpack:///./src/js/main.js","webpack:///./src/js/modules ^\\.\\/.*$"],"names":["module","__events","__registerEvents","params","container","$container","$","trigger","name","callback","scope","log","constructor","addHandler","removeHandler","execute","value","forEach","k","handler","extend","getStatus","total","loaded","src","base","message","console","imagesHandler","selector","regex","file","quote","font","url","extensions","image","css","searchInCss","__found","__loaded","type","str","html","__findSources","length","__processCss","done","__loadFiles","desc","__findFonts","match","exec","i","replace","indexOf","fileType","__identifyFileType","push","subMatch","subStr","filetype","extension","toString","undefined","promise","__loadImageAsync","__updateStatus","status","defer","Deferred","Image","onload","resolve","onerror","__processUrlAsync","when","apply","ajax","response","fail","mediaHandler","blob","__total","loadMethod","each","source","tagName","toLowerCase","media","document","createElement","currentSrc","addEventListener","__updateItem","oncanplay","req","XMLHttpRequest","open","responseType","mediaBlob","blobUrl","URL","createObjectURL","send","__isLoading","loader","show","hide","__showLoader","__hideLoader","BX","showWait","preloader","handlers","methods","__showPreloader","update","__updateBar","__hidePreloader","delay","timeout","watcher","__handlers","__status","__$preloader","__watcherTt","__ready","class","__initHandlers","__animationWatcher","setTimeout","__forceFinish","on","window","scrollTo","handlerClass","start","clearInterval","setInterval","addClass","append","percent","parseInt","find","width","attr","removeClass","fadeOut","_this","instance","initialize","handlerStatus","moduleDefaults","load","async","application","modules","modulesDataAttribute","__includeModules","__loadModules","__defaults","moduleItem","moduleClass","default","prototype","getApplicationInstance","scrope","scropt","__isModuleEnabled","__loadModule","data","split","concat","subClass","superClass","TypeError","Object","create","enumerable","writable","configurable","setPrototypeOf","__proto__","testFile","event","startTime","Date","getTime","xhr","dataType","Math","random","success","msg","endTime","size","getResponseHeader","duration","bits","bps","toFixed","kbps","mbps","index","object","splice","preloaderHandler","network"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;ACtDA;;;;AACA;;;;;;;;;;+eAXA;;;;;;;;;;IAaqBA,O;;;AAEpB;;;AAGA,mBAAc;AAAA;;AAAA;;AAEb,QAAKC,QAAL,GAAgB,EAAhB;AACA,QAAKC,gBAAL,CAAsB,CAAC,OAAD,CAAtB;AAHa;AAIb;;AAED;;;;;;;;;+BAKyC;AAAA,OAA9BC,MAA8B,uEAArB,EAAqB;AAAA,OAAjBC,SAAiB,uEAAP,MAAO;;AACxC,OAAIC,aAAa,IAAjB,CADwC,CAChB;AACxB,OAAG,OAAOD,SAAP,IAAoB,QAAvB,EAAgC;AAC/BC,iBAAaC,EAAEF,SAAF,CAAb;AACA,IAFD,MAEK;AACJC,iBAAaD,SAAb;AACA;;AAED;;AAEA,QAAKG,OAAL,CAAa,OAAb;AACA;AACA;;AAID;;;;;;;;;uBAM4C;AAAA,OAAxCC,IAAwC,uEAAnC,IAAmC;AAAA,OAA7BC,QAA6B,uEAApB,UAACN,MAAD,EAASO,KAAT,EAAiB,CAAE,CAAC;;AAC3C,OAAG,CAACF,IAAD,IAAS,CAACC,QAAV,IAAsB,OAAOA,QAAP,IAAmB,UAA5C,EAAuD;AACtD,SAAKE,GAAL,CAAY,KAAKC,WAAL,CAAiBJ,IAA7B;AACA,WAAO,KAAP;AACA;;AAED,OAAG,OAAO,KAAKP,QAAL,CAAcO,IAAd,CAAP,IAA8B,WAAjC,EAA6C;AAC5C,SAAKG,GAAL,CAAY,KAAKC,WAAL,CAAiBJ,IAA7B,yDAAkDA,IAAlD;AACA,WAAO,KAAP;AACA;;AAED,UAAO,KAAKP,QAAL,CAAcO,IAAd,EAAoBK,UAApB,CAA+BJ,QAA/B,CAAP;AACA;;AAED;;;;;;;;;wBAM8B;AAAA,OAAzBD,IAAyB,uEAApB,IAAoB;AAAA,OAAdC,QAAc,uEAAL,IAAK;;AAC7B,OAAG,CAACD,IAAJ,EAAU,OAAO,KAAP;;AAEV,OAAG,OAAO,KAAKP,QAAL,CAAcO,IAAd,CAAP,IAA8B,WAAjC,EAA6C;AAC5C,SAAKG,GAAL,CAAY,KAAKC,WAAL,CAAiBJ,IAA7B,0DAAmDA,IAAnD;AACA,WAAO,KAAP;AACA;;AAED,OAAGC,YAAY,OAAOA,QAAP,IAAmB,UAAlC,EAA6C;AAC5C,SAAKR,QAAL,CAAcO,IAAd,EAAoBM,aAApB,CAAkCL,QAAlC;AACA,IAFD,MAEK;AACJ,WAAO,KAAKR,QAAL,CAAcO,IAAd,CAAP;AACA,WAAO,IAAP;AACA;AACD;AACA;;AAED;;;;;;;;;4BAMiC;AAAA,OAAxBA,IAAwB,uEAAnB,IAAmB;AAAA,OAAbL,MAAa,uEAAJ,EAAI;;AAChC,OAAG,OAAO,KAAKF,QAAL,CAAcO,IAAd,CAAP,IAA8B,WAAjC,EAA6C;AAC5C,WAAO,KAAKP,QAAL,CAAcO,IAAd,EAAoBO,OAApB,CAA4BZ,MAA5B,EAAoC,IAApC,CAAP;AACA;AACD,UAAO,KAAP;AACA;;AAED;;;;;;;;qCAK4B;AAAA;;AAAA,OAAXa,KAAW,uEAAL,IAAK;;AAC3B,OAAG,CAACA,KAAJ,EAAW,OAAO,KAAP;;AAEX,OAAG,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAAnB,EAA4B;AAC3BA,UAAMC,OAAN,CAAc,UAACT,IAAD,EAAOU,CAAP,EAAa;AAC1B,YAAKjB,QAAL,CAAcO,IAAd,IAAsB,oBAAU;AAC/BA,YAAMA;AADyB,MAAV,CAAtB;AAGA,KAJD;AAKA,IAND,MAMM,IAAG,OAAOQ,KAAP,IAAgB,QAAnB,EAA4B;AACjC,QAAIR,OAAOQ,KAAX;AACA,SAAKf,QAAL,CAAcO,IAAd,IAAsB,oBAAU;AAC/BA,WAAMA;AADyB,KAAV,CAAtB;AAGA;AACD,UAAO,IAAP;AACA;;;;;;kBA7GmBR,O;;;;;;;;;;;;;;;ACNrB;;;;;;;;;;+eAPA;;;;;;;AASA;;;;;;;;;;;;IAYqBmB,O;;;AACpB,oBAAe;AAAA;;AAAA;;AAEd,QAAKjB,gBAAL,CAAsB,CAAC,UAAD,CAAtB;AACA,QAAKC,MAAL,GAAc,EAAd;AAHc;AAId;;;;+BAEsB;AAAA,OAAXA,MAAW,uEAAJ,EAAI;;AACtBG,KAAEc,MAAF,CAAU,IAAV,EAAgB,KAAKjB,MAArB,EAA6BA,MAA7B;;AAEA,QAAKI,OAAL,CAAa,UAAb,EAAyB,KAAKc,SAAL,EAAzB;AACA,QAAKd,OAAL,CAAa,OAAb;AACA;;;8BAEY;AACZ,UAAO;AACNe,WAAO,CADD;AAENC,YAAQ,CAFF;AAGNC,SAAK;AAHC,IAAP;AAKA;;;;;;kBApBmBL,O;;;;;;;;;;;;;;;;;ACrBrB;;;;;;;;;IASqBM,I;;;;;;;wBACfC,O,EAAS;AACb,UAAGC,WAAWA,QAAQhB,GAAtB,EAA2B;AAC1BgB,gBAAQhB,GAAR,CAAYe,OAAZ;AACA;AACD;;;;;;kBALmBD,I;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;+eAPA;;;;;;;IASqBG,a;;;AACpB,0BAAe;AAAA;;AAAA;;AAGd,QAAKzB,MAAL,GAAc;AACb0B,aAAU,MADG;AAEbC,UAAO;AACNC,UAAM,qDADA;AAENC,WAAO,mBAFD;AAGNC,UAAM,0BAHA;AAINC,SAAK;AAJC,IAFM;AAQbC,eAAY;AACXC,WAAO,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,KAAvB,EAA8B,KAA9B,CADI;AAEXC,SAAK,CAAC,KAAD,EAAQ,MAAR,EAAgB,MAAhB;AACL;AAHW,IARC;AAabC,gBAAa;AAbA,GAAd;AAeA,QAAKC,OAAL,GAAe,IAAf;AACA,QAAKC,QAAL,GAAgB,EAAhB;AAnBc;AAoBd;;;;+BAEwB;AAAA;;AAAA,OAAbrC,MAAa,uEAAJ,EAAI;;AACxBG,KAAEc,MAAF,CAAU,IAAV,EAAgB,KAAKjB,MAArB,EAA6BA,MAA7B;;AAEA;AACA,QAAKoC,OAAL,GAAe,EAAEN,MAAK,EAAP,EAAf;AACA,QAAI,IAAIQ,IAAR,IAAgB,KAAKtC,MAAL,CAAYgC,UAA5B,EAAuC;AACtC,SAAKI,OAAL,CAAaE,IAAb,IAAqB,EAArB;AACA;;AAED;AACA,OAAIC,MAAMpC,EAAE,KAAKH,MAAL,CAAY0B,QAAd,EAAwBc,IAAxB,EAAV;AACA,QAAKC,aAAL,CAAmBF,GAAnB;;AAEA;AACA,OAAG,KAAKvC,MAAL,CAAYmC,WAAZ,KAA4B,IAA5B,IAAoC,KAAKC,OAAL,CAAaF,GAAb,CAAiBQ,MAAxD,EAA+D;AAC9D,SAAKC,YAAL,CAAkBJ,GAAlB,EAAuBK,IAAvB,CAA4B,YAAM;AACjC,YAAKC,WAAL;AACA,KAFD;AAGA,IAJD,MAIK;AACJ,SAAKA,WAAL;AACA;AACD;;;8BAEW;AACX,UAAO;AACN1B,WAAO,KAAKiB,OAAL,CAAaH,KAAb,CAAmBS,MADpB;AAENtB,YAAQ,KAAKiB,QAAL,CAAcK,MAFhB;AAGNrB,SAAK,IAHC;AAINyB,UAAM;AAJA,IAAP;AAMA;;AAED;;;;;;;;gCAKeP,G,EAAK;AACnB,QAAKQ,WAAL,CAAiBR,GAAjB,EADmB,CACK;;AAExB,OAAIS,cAAJ;AACA,UAAMA,QAAQ,KAAKhD,MAAL,CAAY2B,KAAZ,CAAkBC,IAAlB,CAAuBqB,IAAvB,CAA4BV,GAA5B,CAAd,EAA+C;AAC9C,SAAI,IAAIW,IAAIF,MAAMN,MAAN,GAAe,CAA3B,EAA8BQ,KAAK,CAAnC,EAAsCA,GAAtC,EAA0C;AACzC,SAAG,OAAOF,MAAME,CAAN,CAAP,KAAoB,WAAvB,EAAmC;AAClC,UAAInB,MAAMiB,MAAME,CAAN,CAAV;AACAnB,YAAMA,IAAIoB,OAAJ,CAAY,KAAKnD,MAAL,CAAY2B,KAAZ,CAAkBE,KAA9B,EAAqC,EAArC,CAAN,CAFkC,CAEc;AAChD,UAAG,CAACE,IAAIW,MAAL,IAAeX,OAAO,GAAtB,IAA6BA,IAAIqB,OAAJ,CAAY,OAAZ,MAAyB,CAAC,CAA1D,EAA6D,MAH3B,CAGkC;AACpE,UAAG,KAAKhB,OAAL,CAAaN,IAAb,CAAkBsB,OAAlB,CAA0BrB,GAA1B,MAAmC,CAAC,CAAvC,EAA0C,MAJR,CAIiB;;AAEnD,UAAIsB,WAAW,KAAKC,kBAAL,CAAwBvB,GAAxB,CAAf;AACA,UAAGsB,YAAY,KAAKjB,OAAL,CAAaiB,QAAb,EAAuBD,OAAvB,CAA+BrB,GAA/B,KAAuC,CAAC,CAAvD,EAAyD;AACxD,YAAKK,OAAL,CAAaiB,QAAb,EAAuBE,IAAvB,CAA4BxB,GAA5B;AACA;AACD;AACA;AACD;AACD;AACD;;AAED;;;;;;;;;8BAMaQ,G,EAAK;AACjB,OAAIS,cAAJ;AAAA,OAAWQ,iBAAX;AACA,UAAMR,QAAQ,KAAKhD,MAAL,CAAY2B,KAAZ,CAAkBG,IAAlB,CAAuBmB,IAAvB,CAA4BV,GAA5B,CAAd,EAAgD;AAC/C,SAAK,IAAIW,IAAIF,MAAMN,MAAN,GAAe,CAA5B,EAA+BQ,KAAK,CAApC,EAAuCA,GAAvC,EAA4C;AAC3C,SAAI,OAAOF,MAAME,CAAN,CAAP,KAAoB,WAAxB,EAAqC;AACpC,UAAIO,SAAST,MAAME,CAAN,CAAb;AACA,aAAMM,WAAW,KAAKxD,MAAL,CAAY2B,KAAZ,CAAkBI,GAAlB,CAAsBkB,IAAtB,CAA2BQ,MAA3B,CAAjB,EAAqD;AACpD,YAAK,IAAIP,KAAIM,SAASd,MAAT,GAAkB,CAA/B,EAAkCQ,MAAK,CAAvC,EAA0CA,IAA1C,EAA+C;AAC9C,YAAI,OAAOM,SAASN,EAAT,CAAP,KAAuB,WAA3B,EAAwC;AACvC,aAAInB,MAAMyB,SAASN,EAAT,CAAV;AACAnB,eAAMA,IAAIoB,OAAJ,CAAY,KAAKnD,MAAL,CAAY2B,KAAZ,CAAkBE,KAA9B,EAAqC,EAArC,CAAN,CAFuC,CAES;AAChD,aAAG,CAACE,IAAIW,MAAL,IAAeX,OAAO,GAAtB,IAA6BA,IAAIqB,OAAJ,CAAY,OAAZ,MAAyB,CAAC,CAA1D,EAA6D,MAHtB,CAG6B;;AAEpE,cAAKhB,OAAL,CAAa,MAAb,EAAqBmB,IAArB,CAA0BxB,GAA1B;AACA;AACA;AACD;AACD;AACD;AACA;AACD;AACD;AACD;;AAED;;;;;;;;;qCAMoBA,G,EAAK;AACxB,OAAI2B,WAAW,KAAf;AAAA,OACCC,YAAa,MAAMV,IAAN,CAAWlB,GAAX,CAAD,GAAoB,SAASkB,IAAT,CAAclB,GAAd,EAAmB6B,QAAnB,EAApB,GAAoDC,SADjE;;AAGA,OAAG,OAAOF,SAAP,IAAoB,WAAvB,EAAoC,OAAO,KAAP;AACpC,QAAI,IAAIrB,IAAR,IAAgB,KAAKtC,MAAL,CAAYgC,UAA5B,EAAuC;AACtC,QAAG,KAAKhC,MAAL,CAAYgC,UAAZ,CAAuBM,IAAvB,EAA6Bc,OAA7B,CAAqCO,SAArC,MAAoD,CAAC,CAAxD,EAA0D;AACzDD,gBAAWpB,IAAX;AACA;AACA;AACD;AACD,UAAOoB,QAAP;AACA;;AAED;;;;;;;gCAIe;AAAA;;AACd,OAAII,UAAU,EAAd;;AAEA,OAAG,OAAO,KAAK1B,OAAL,CAAaH,KAApB,IAA6B,WAA7B,IAA4C,KAAKG,OAAL,CAAaH,KAAb,CAAmBS,MAAlE,EAA0E;AAAA,+BAChEQ,CADgE;AAExE,YAAKa,gBAAL,CAAsB,OAAK3B,OAAL,CAAaH,KAAb,CAAmBiB,CAAnB,CAAtB,EAA6CY,OAA7C,GAAuDlB,IAAvD,CAA4D,YAAM;AACjE,aAAKoB,cAAL,CAAoB,OAAK5B,OAAL,CAAaH,KAAb,CAAmBiB,CAAnB,CAApB;AACA,MAFD;AAFwE;;AACzE,SAAK,IAAIA,CAAT,IAAc,KAAKd,OAAL,CAAaH,KAA3B,EAAkC;AAAA,WAAzBiB,CAAyB;AAIjC;AACD;AACD;;AAED;;;;;;;;iCAKgB7B,G,EAAK;AACpB,OAAG,CAAC,KAAKgB,QAAT,EAAmB;AAClB,SAAKA,QAAL,GAAgB,EAAhB;AACA;AACD,QAAKA,QAAL,CAAckB,IAAd,CAAmBlC,GAAnB;;AAEA,OAAI4C,SAAS,KAAK/C,SAAL,EAAb;AACA+C,UAAO5C,GAAP,GAAaA,GAAb;AACA,QAAKjB,OAAL,CAAa,UAAb,EAAyB6D,MAAzB;;AAEA,OAAGA,OAAO9C,KAAP,IAAgB8C,OAAO7C,MAA1B,EAAiC;AAChC,SAAKhB,OAAL,CAAa,OAAb;AACA;AACD;;AAED;;;;;;;;;mCAMkB2B,G,EAAK;AACtB,OAAImC,QAAQ,IAAI/D,EAAEgE,QAAN,EAAZ;;AAEA,OAAIlC,QAAQ,IAAImC,KAAJ,EAAZ;AACAnC,SAAMZ,GAAN,GAAYU,GAAZ;AACAE,SAAMoC,MAAN,GAAe,YAAY;AAC1BH,UAAMI,OAAN;AACA,IAFD;AAGArC,SAAMsC,OAAN,GAAgB,YAAY;AAC3BL,UAAMI,OAAN;AACA,IAFD;;AAIA,UAAOJ,KAAP;AACA;;AAED;;;;;;;;iCAKe;AACd,OAAIJ,UAAU,EAAd;AACA,QAAI,IAAIZ,CAAR,IAAa,KAAKd,OAAL,CAAaF,GAA1B,EAA8B;AAC7B4B,YAAQP,IAAR,CAAa,KAAKiB,iBAAL,CAAuB,KAAKpC,OAAL,CAAaF,GAAb,CAAiBgB,CAAjB,CAAvB,CAAb;AACA;;AAED,UAAO/C,EAAEsE,IAAF,CAAOC,KAAP,CAAab,SAAb,EAAwBC,OAAxB,EAAiCA,OAAjC,EAAP;AACA;;AAED;;;;;;;;;oCAMmB/B,G,EAAI;AACtB,OAAIxB,QAAQ,IAAZ;AAAA,OACC2D,QAAQ,IAAI/D,EAAEgE,QAAN,EADT;;AAGAhE,KAAEwE,IAAF,CAAO;AACN5C,SAAKA;AADC,IAAP,EAEGa,IAFH,CAEQ,UAACgC,QAAD,EAAc;AACrBrE,UAAMkC,aAAN,CAAoBmC,QAApB;AACAV,UAAMI,OAAN;AACA,IALD,EAKGO,IALH,CAKQ,YAAM;AACbX,UAAMI,OAAN;AACA,IAPD;;AASA,UAAOJ,KAAP;AACA;;;;;;kBA/NmBzC,a;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;+eAPA;;;;;;;IASqBqD,Y;;;AACpB,yBAAe;AAAA;;AAAA;;AAEd,QAAK9E,MAAL,GAAc;AACb0B,aAAU,cADG;AAEbqD,SAAM;AAFO,GAAd;;AAKA,QAAKC,OAAL,GAAe,CAAf;AACA,QAAK3C,QAAL,GAAgB,CAAhB;AARc;AASd;;;;+BAEwB;AAAA,OAAbrC,MAAa,uEAAJ,EAAI;;AACxB,OAAIO,QAAQ,IAAZ;AACAJ,KAAEc,MAAF,CAAU,IAAV,EAAgB,KAAKjB,MAArB,EAA6BA,MAA7B;;AAEA,OAAIiF,aAAc1E,MAAMP,MAAN,CAAa+E,IAAd,GAAoB,iBAApB,GAAsC,aAAvD;AACA,QAAKE,UAAL,IAAmBrC,IAAnB,CAAwB,YAAM;AAC7BrC,UAAMH,OAAN,CAAc,OAAd;AACA,IAFD;AAGA;;AAED;;;;;;;8BAIY;AACX,UAAO;AACNe,WAAO,KAAK6D,OADN;AAEN5D,YAAQ,KAAKiB,QAFP;AAGNhB,SAAK,IAHC;AAINyB,UAAM;AAJA,IAAP;AAMA;;AAED;;;;;;;gCAIe;AACd,OAAIvC,QAAQ,IAAZ;AAAA,OACCuD,UAAU,EADX;;AAGA3D,KAAE,KAAKH,MAAL,CAAY0B,QAAd,EAAwBwD,IAAxB,CAA6B,YAAU;AACtC,QAAIC,SAAS,IAAb;AAAA,QACCjB,QAAQ,IAAI/D,EAAEgE,QAAN,EADT;AAEA;;;;;;AAMA5D,UAAMyE,OAAN;;AAEA,QAAII,UAAUD,OAAOC,OAAP,CAAeC,WAAf,EAAd;AACA,QAAIC,QAAQC,SAASC,aAAT,CAAuBJ,OAAvB,CAAZ;AACAE,UAAMjE,GAAN,GAAY8D,OAAOM,UAAnB;;AAEAH,UAAMI,gBAAN,CAAuB,gBAAvB,EAAyC,YAAU;AAClDnF,WAAMoF,YAAN,CAAmBR,OAAOM,UAA1B;AACAvB,WAAMI,OAAN;AACAgB,WAAMM,SAAN,GAAkB,IAAlB;AACA,KAJD,EAIG,KAJH;;AAMAN,UAAMI,gBAAN,CAAuB,SAAvB,EAAkC,YAAU;AAC3CnF,WAAMoF,YAAN,CAAmBR,OAAOM,UAA1B;AACAvB,WAAMI,OAAN;AACAgB,WAAMf,OAAN,GAAgB,IAAhB;AACA,KAJD,EAIG,KAJH;;AAMAT,YAAQP,IAAR,CAAaW,KAAb;AACA,IA5BD;;AA8BA;AACA,OAAG,CAACJ,QAAQpB,MAAZ,EAAmB;AAClB,QAAIwB,QAAQ,IAAI/D,EAAEgE,QAAN,EAAZ;AACAD,UAAMI,OAAN;AACAR,YAAQP,IAAR,CAAaW,KAAb;AACA;;AAED,UAAO/D,EAAEsE,IAAF,CAAOC,KAAP,CAAab,SAAb,EAAwBC,OAAxB,EAAiCA,OAAjC,EAAP;AACA;;;oCAEkB;AAClB,OAAIvD,QAAQ,IAAZ;AAAA,OACCuD,UAAU,EADX;;AAGA3D,KAAE,KAAKH,MAAL,CAAY0B,QAAd,EAAwBwD,IAAxB,CAA6B,YAAU;AACtC,QAAII,QAAQ,IAAZ;AAAA,QACCpB,QAAQ,IAAI/D,EAAEgE,QAAN,EADT;;AAGA5D,UAAMyE,OAAN;;AAEA,QAAIa,MAAM,IAAIC,cAAJ,EAAV;AACAD,QAAIE,IAAJ,CAAS,KAAT,EAAgBT,MAAMG,UAAtB,EAAkC,IAAlC;AACAI,QAAIG,YAAJ,GAAmB,MAAnB;;AAEAH,QAAIxB,MAAJ,GAAa,YAAW;AACvB,SAAI,KAAKJ,MAAL,KAAgB,GAApB,EAAyB;AACxB,UAAIgC,YAAY,KAAKrB,QAArB;AACA,UAAIsB,UAAUC,IAAIC,eAAJ,CAAoBH,SAApB,CAAd,CAFwB,CAEsB;AAC9CX,YAAMjE,GAAN,GAAY6E,OAAZ;AACA;;AAED3F,WAAMoF,YAAN,CAAmBL,MAAMG,UAAzB;AACAvB,WAAMI,OAAN;AACA,KATD;AAUAuB,QAAItB,OAAJ,GAAc,YAAW;AACxBhE,WAAMoF,YAAN,CAAmBL,MAAMG,UAAzB;AACAvB,WAAMI,OAAN;AACA,KAHD;AAIAuB,QAAIQ,IAAJ;;AAEAvC,YAAQP,IAAR,CAAaW,KAAb;AACA,IA3BD;;AA6BA;AACA,OAAG,CAACJ,QAAQpB,MAAZ,EAAmB;AAClB,QAAIwB,QAAQ,IAAI/D,EAAEgE,QAAN,EAAZ;AACAD,UAAMI,OAAN;AACAR,YAAQP,IAAR,CAAaW,KAAb;AACA;;AAED,UAAO/D,EAAEsE,IAAF,CAAOC,KAAP,CAAab,SAAb,EAAwBC,OAAxB,EAAiCA,OAAjC,EAAP;AACA;;AAED;;;;;;;+BAIczC,G,EAAI;AACjB,QAAKgB,QAAL;AACA,OAAI4B,SAAS,KAAK/C,SAAL,EAAb;AACA+C,UAAO5C,GAAP,GAAaA,GAAb;AACA,QAAKjB,OAAL,CAAa,UAAb,EAAyB6D,MAAzB;AACA;;;;;;kBAvImBa,Y;;;;;;;;;;;;;;;ACGrB;;;;;;;;;;+eAZA;;;;;;;;;;;;AAcA,IAAIwB,cAAc,CAAlB;;IAEqBC,M;;;;;;;;;;;;;AAEpB;;;;4BAIoB;AAAA,OAAZC,IAAY,uEAAL,IAAK;;AACnB,OAAGA,IAAH,EAAQ;AACP,SAAKA,IAAL;AACA,IAFD,MAEK;AACJ,SAAKC,IAAL;AACA;AACD;;AAED;;;;;;yBAGO;AACNH;AACA,OAAGA,gBAAgB,CAAnB,EAAqB;AACpB,SAAKI,YAAL;AACA;AACD;;AAED;;;;;;yBAGO;AACN,OAAGJ,cAAc,CAAjB,EAAmB;AAClBA;AACA;AACD,OAAGA,gBAAgB,CAAnB,EAAqB;AACpB,SAAKK,YAAL;AACA;AACD;;AAED;;;;;;;iCAIe;AACd,OAAG,OAAOC,EAAP,IAAa,WAAhB,EAA4B;AAC3BA,OAAGC,QAAH;AACA,IAFD,MAEK;AACJ,QAAGrF,WAAWA,QAAQhB,GAAtB,EAA0B;AACzBgB,aAAQhB,GAAR,CAAY,qGAAZ;AACA;AACD;AACD;;AAED;;;;;;;iCAIe;AACd,OAAG,OAAOoG,EAAP,IAAa,WAAhB,EAA4B;AAC3BA,OAAGC,QAAH;AACA,IAFD,MAEK;AACJ,QAAGrF,WAAWA,QAAQhB,GAAtB,EAA0B;AACzBgB,aAAQhB,GAAR,CAAY,qGAAZ;AACA;AACD;AACD;;;;;;kBA9DmB+F,M;;;;;;;;;;;;;;;ACTrB;;;;AACA;;;;AACA;;;;;;;;;;+eATA;;;;;;;IAWqBO,S;;;AAEpB,sBAAc;AAAA;;AAAA;;AAEb,MAAIvG,cAAJ;;AAEAA,QAAMR,gBAAN,CAAuB,CAAC,UAAD,CAAvB;AACAQ,QAAMP,MAAN,GAAe;AACd+G,aAAU,EADI,EACE;AAChBC,YAAS,EAAO;AACfR,UAAM,OAAKS,eADH;AAERC,YAAQ,OAAKC,WAFL;AAGRV,UAAM,OAAKW;AAHH,IAFK;AAOd9B,UAAO,IAPO,EAOE;AAChB+B,UAAO,GARO,EAQE;AAChBC,YAAS,KATK,EASE;AAChBC,YAAS,KAVK,CAUE;AAVF,GAAf;AAYAhH,QAAMiH,UAAN,GAAmB,EAAnB,CAjBa,CAiBW;AACxBjH,QAAMkH,QAAN,GAAiB,EAAG;AACnBtG,UAAO,CADS,EACA;AAChBC,WAAQ,CAFQ,EAEA;AAChBC,QAAK,IAHW,EAGA;AAChByB,SAAM,IAJU,CAIA;AAJA,GAAjB;AAMAvC,QAAMmH,YAAN,GAAqB,IAArB,CAxBa,CAwBe;AAC5BnH,QAAMoH,WAAN,GAAoB,IAApB,CAzBa,CAyBe;AAC5BpH,QAAMqH,OAAN,GAAgB,KAAhB,CA1Ba,CA0Be;AA1Bf;AA2Bb;;;;+BAEsB;AAAA,OAAX5H,MAAW,uEAAJ,EAAI;;AACtB,OAAIO,QAAQ,IAAZ;AACAJ,KAAEc,MAAF,CAAU,IAAV,EAAgBV,MAAMP,MAAtB,EAA8BA,MAA9B;;AAEAO,SAAMP,MAAN,CAAagH,OAAb,CAAqBR,IAArB;;AAEA;AACAjG,SAAMG,UAAN,CAAiB,QAAjB;AACA,OAAGH,MAAMP,MAAN,CAAasF,KAAb,KAAuB,IAA1B,EAA+B;AAC9B/E,UAAMG,UAAN,CAAiB,OAAjB;AACA;;AAED;AACA,OAAGH,MAAMP,MAAN,CAAa+G,QAAb,CAAsBrE,MAAzB,EAAgC;AAC/B,SAAI,IAAIQ,CAAR,IAAa3C,MAAMP,MAAN,CAAa+G,QAA1B,EAAmC;AAClC,SAAI/F,UAAUT,MAAMP,MAAN,CAAa+G,QAAb,CAAsB7D,CAAtB,CAAd;AACA,SAAG,OAAOlC,QAAQhB,MAAf,IAAyB,WAA5B,EAAyCgB,QAAQhB,MAAR,GAAiB,EAAjB;AACzC,UAAKU,UAAL,CAAgBM,QAAQX,IAAxB,EAA8BW,QAAQ6G,KAAtC,EAA6C7G,QAAQhB,MAArD;AACA;AACD;AACDO,SAAMuH,cAAN;AACA,OAAGvH,MAAMP,MAAN,CAAauH,OAAb,KAAyB,KAA5B,EAAkC;AACjChH,UAAMwH,kBAAN;AACA;;AAED;AACA,OAAGxH,MAAMP,MAAN,CAAasH,OAAb,GAAuB,CAA1B,EAA4B;AAC3BU,eAAW,YAAI;AACd,SAAGzH,MAAMqH,OAAN,KAAkB,KAArB,EAA2B;AAC1BrH,YAAM0H,aAAN;AACA1H,YAAMqH,OAAN,GAAgB,IAAhB;AACA;AACD,KALD,EAKGrH,MAAMP,MAAN,CAAasH,OALhB;AAMA;;AAED;AACA;AACA/G,SAAM2H,EAAN,CAAS,UAAT,EAAqB,UAACjE,MAAD,EAAY;AAChC,QAAG1D,MAAMoH,WAAN,KAAsB,IAAzB,EAA8B;AAAE;AAC/BpH,WAAMP,MAAN,CAAagH,OAAb,CAAqBE,MAArB,CAA4BjD,MAA5B;AACA;AACD,QAAGA,OAAO7C,MAAP,IAAiB6C,OAAO9C,KAA3B,EAAiC;AAChC6G,gBAAW,YAAU;AACpB,UAAGzH,MAAMqH,OAAN,KAAkB,KAArB,EAA2B;AAC1BrH,aAAMH,OAAN,CAAc,OAAd;AACAG,aAAMqH,OAAN,GAAgB,IAAhB;AACA;AACD,MALD,EAKGrH,MAAMP,MAAN,CAAaqH,KALhB;AAMA;AACD,IAZD;;AAcA;AACA9G,SAAM2H,EAAN,CAAS,OAAT,EAAkB,YAAM;AACvBC,WAAOC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA7H,UAAMP,MAAN,CAAagH,OAAb,CAAqBP,IAArB;AACA,QAAGlG,MAAMP,MAAN,CAAauH,OAAb,KAAyB,KAA5B,EAAkC;AACjChH,WAAMwH,kBAAN,CAAyB,KAAzB;AACA;AAED,IAPD;AAQA;;AAED;;;;;;;;;6BAMY1H,I,EAAMgI,Y,EAAyB;AAAA,OAAXrI,MAAW,uEAAJ,EAAI;;AAC1C,QAAKwH,UAAL,CAAgBjE,IAAhB,CAAqB;AACpBlD,UAAMA,IADc;AAEpBwH,WAAOQ,YAFa;AAGpBrI,YAAQA;AAHY,IAArB;AAKA;;AAED;;;;;;;;;;;uCAQ+B;AAAA,OAAXsI,KAAW,uEAAL,IAAK;;AAC9B,OAAG/H,MAAMP,MAAN,CAAauH,OAAb,KAAyB,KAA5B,EAAmC;AACnC,OAAIhH,QAAQ,IAAZ;AAAA,OACCM,QAAQ,CADT;;AAGA,OAAGyH,UAAU,KAAb,EAAmB;AAClBC,kBAAc,KAAKZ,WAAnB;AACApH,UAAMoH,WAAN,GAAoB,IAApB;AACA,IAHD,MAGM,IAAGW,UAAU,IAAV,IAAkB/H,MAAMoH,WAAN,KAAsB,IAA3C,EAAgD;AACrDpH,UAAMoH,WAAN,GAAoBa,YAAY,YAAM;AACrC,SAAG3H,QAAQN,MAAMkH,QAAN,CAAerG,MAA1B,EAAiC;AAChCb,YAAMP,MAAN,CAAagH,OAAb,CAAqBE,MAArB,CAA4B3G,MAAMkH,QAAlC;AACA5G,cAAQN,MAAMkH,QAAN,CAAerG,MAAvB;AACA;AACD,KALmB,EAKjBb,MAAMP,MAAN,CAAauH,OALI,CAApB;AAMA;AACD;;AAED;;;;;;;;oCAKkB;AACjBpH,KAAE,MAAF,EAAUsI,QAAV,CAAmB,yBAAnB;AACA,QAAKf,YAAL,GAAoBvH,EAAE,mBAAF,CAApB;AACA,OAAG,CAAC,KAAKuH,YAAL,CAAkBhF,MAAtB,EAA6B;AAC5B,SAAKgF,YAAL,GAAoBvH,4LAApB;AAKAA,MAAE,MAAF,EAAUuI,MAAV,CAAiB,KAAKhB,YAAtB;AACA;AACD;;AAED;;;;;;;;;gCAM0B;AAAA,OAAbzD,MAAa,uEAAN,IAAM;;AACzB,OAAI0E,UAAUC,SAAS,MAAM3E,OAAO9C,KAAb,GAAqB8C,OAAO7C,MAArC,CAAd;;AAEA,QAAKsG,YAAL,CACEmB,IADF,CACO,eADP,EAEE3G,GAFF,CAEM,EAAC4G,OAAOH,UAAQ,GAAhB,EAFN,EAGEI,IAHF,CAGO,eAHP,EAGwBJ,OAHxB;AAIA;;AAED;;;;;;;;oCAKkB;AACjBxI,KAAE,MAAF,EAAU6I,WAAV,CAAsB,yBAAtB;AACA,QAAKtB,YAAL,CAAkBuB,OAAlB;AACA;;AAED;;;;;;;;kCAKgB;AACf,OAAIhF,SAAS,KAAKwD,QAAlB;AACAxD,UAAO7C,MAAP,GAAgB6C,OAAO9C,KAAvB;AACA,QAAKnB,MAAL,CAAYgH,OAAZ,CAAoBE,MAApB,CAA2BjD,MAA3B;AACA,QAAK7D,OAAL,CAAa,OAAb;AACA;;AAED;;;;;;;mCAIkB;AACjB,OAAI8I,QAAQ,IAAZ;;AAEA,QAAI,IAAIhG,CAAR,IAAa,KAAKsE,UAAlB,EAA6B;AAC5B,SAAKA,UAAL,CAAgBtE,CAAhB,EAAmBiG,QAAnB,GAA8B,IAAI,KAAK3B,UAAL,CAAgBtE,CAAhB,EAAmB2E,KAAvB,EAA9B;AACA,SAAKL,UAAL,CAAgBtE,CAAhB,EAAmBiG,QAAnB,CAA4BjB,EAA5B,CAA+B,UAA/B,EAA2C,UAACjE,MAAD,EAAY;AACtDiF,WAAMlF,cAAN,CAAqBC,MAArB;AACAiF,WAAM9I,OAAN,CAAc,UAAd,EAA0B8I,MAAMzB,QAAhC;AACA,KAHD;;AAKA,SAAKD,UAAL,CAAgBtE,CAAhB,EAAmBiG,QAAnB,CAA4BC,UAA5B,CAAuC,KAAK5B,UAAL,CAAgBtE,CAAhB,EAAmBlD,MAA1D;AACA;AACD;;AAED;;;;;;;;;;mCAO0B;AAAA,OAAVA,MAAU,uEAAH,EAAG;;AACzB,QAAKyH,QAAL,CAActG,KAAd,GAAsB,CAAtB;AACA,QAAKsG,QAAL,CAAcrG,MAAd,GAAuB,CAAvB;AACA,QAAKqG,QAAL,CAAcpG,GAAd,GAAqB,OAAOrB,OAAOqB,GAAd,IAAqB,WAAtB,GAAqCrB,OAAOqB,GAA5C,GAAkD,IAAtE;AACA,QAAKoG,QAAL,CAAc3E,IAAd,GAAsB,OAAO9C,OAAO8C,IAAd,IAAsB,WAAvB,GAAsC9C,OAAO8C,IAA7C,GAAoD,IAAzE;;AAEA,QAAI,IAAII,CAAR,IAAa,KAAKsE,UAAlB,EAA8B;AAC7B,QAAI6B,gBAAgB,KAAK7B,UAAL,CAAgBtE,CAAhB,EAAmBiG,QAAnB,CAA4BjI,SAA5B,EAApB;AACA,SAAKuG,QAAL,CAActG,KAAd,IAAuBkI,cAAclI,KAArC;AACA,SAAKsG,QAAL,CAAcrG,MAAd,IAAwBiI,cAAcjI,MAAtC;AACA;AACD;;;;;;kBAhOmB0F,S;;;;;;;;;;;;;;;ACJrB;;;;;;;;;;+eAPA;;;;;;;AASA,IAAIwC,iBAAiB;AACnBjJ,OAAM,IADa;AAEnBkJ,OAAM,MAFa;AAGnBC,QAAO,IAHY;AAInBxJ,SAAQ6D;AAJW,CAArB;;IAOqB4F,W;;;AAEpB;;;AAGA,wBAAwB;AAAA,MAAZzJ,MAAY,uEAAH,EAAG;;AAAA;;AAAA;;AAEvB,QAAKA,MAAL,GAAc;AACb0J,YAAS,CACR;AACCrJ,UAAM,QADP,EACiB;AAChBkJ,UAAM,IAFP,EAEiB;AAChBC,WAAO,IAHR;AAICxJ,YAAQ,CAAC;;;eAAD;AAJT,IADQ,CADI;AAgBb2J,yBAAsB;AAhBT,GAAd;AAkBAxJ,IAAEc,MAAF,CAAU,IAAV,EAAgB,MAAKjB,MAArB,EAA6BA,MAA7B;AACA,QAAK4J,gBAAL,CAAsB,MAAK5J,MAAL,CAAY0J,OAAlC;AArBuB;AAsBvB;;AAED;;;;;;;;+BAI8B;AAAA,OAAlBzJ,SAAkB,uEAAR,MAAQ;;AAC7B,OAAIM,QAAQ,IAAZ;AAAA,OACCL,aAAa,IADd,CAD6B,CAER;AACrB,OAAG,OAAOD,SAAP,IAAoB,QAAvB,EAAgC;AAC/BC,iBAAaC,EAAEF,SAAF,CAAb;AACA,IAFD,MAEK;AACJC,iBAAaD,SAAb;AACA;;AAED,QAAK4J,aAAL,CAAmB3J,UAAnB,EAA+B,KAAKF,MAAL,CAAY0J,OAA3C,EAAoD,YAAM;AACzDnJ,UAAMH,OAAN,CAAc,OAAd;AACA,IAFD;AAGA;;;iCAEeP,M,EAAQ;AACvB,OAAIiK,aAAaR,cAAjB;AACAzJ,YAASM,EAAEc,MAAF,CAAU,IAAV,EAAgB6I,UAAhB,EAA4BjK,MAA5B,CAAT;AACA,QAAKG,MAAL,CAAY0J,OAAZ,CAAoBnG,IAApB,CAAyB1D,MAAzB;AACA;;;mCAEiB6J,O,EAAQ;AACzB,OAAInJ,QAAQ,IAAZ;;AAEA,QAAI,IAAI2C,CAAR,IAAawG,OAAb,EAAqB;AACpB,QAAIK,aAAa5J,EAAEc,MAAF,CAAS,EAAT,EAAaqI,cAAb,CAAjB;AACA,QAAG,OAAOS,UAAP,IAAqB,QAAxB,EAAiC;AAChCA,gBAAW1J,IAAX,GAAkBqJ,QAAQxG,CAAR,CAAlB;AACA,KAFD,MAEK;AACJ6G,kBAAa5J,EAAEc,MAAF,CAAS,IAAT,EAAe8I,UAAf,EAA2BL,QAAQxG,CAAR,CAA3B,CAAb;AACA;;AAED,QAAI8G,cAAe,OAAOD,WAAWlC,KAAlB,IAA2B,WAA5B,GAA2CkC,WAAWlC,KAAtD,GAA8D,4BAAQ,GAAgBkC,WAAW1J,IAAnC,EAAyC4J,OAAzH;AACAD,gBAAYE,SAAZ,CAAsBC,sBAAtB,GAA+C,YAAW;AACzD,YAAO5J,KAAP;AACA,KAFD;AAGA,SAAKwJ,WAAW1J,IAAhB,IAAwB,IAAI2J,WAAJ,EAAxB;AACA;AACD;;;2CAEyBI,M,EAAQ;AACjC,UAAOC,MAAP;AACA;;AAED;;;;;;;;;;;;;kCAU0E;AAAA,OAA3DnK,UAA2D,uEAAhDC,EAAE,MAAF,CAAgD;AAAA,OAArCuJ,OAAqC;;AAAA;;AAAA,OAA5BpJ,QAA4B,uEAAnB,IAAmB;AAAA,OAAbkJ,KAAa,uEAAP,KAAO;;AACzE,OAAIjJ,QAAQ,IAAZ;AAAA,OACCuD,UAAW0F,UAAQ,KAAT,GAAgB,IAAhB,GAAqB,EADhC;;AADyE,8BAIjEtG,CAJiE;AAKxE,QAAI6G,aAAa5J,EAAEc,MAAF,CAAS,EAAT,EAAaqI,cAAb,CAAjB;AACA,QAAG,OAAOS,UAAP,IAAqB,QAAxB,EAAiC;AAChCA,gBAAW1J,IAAX,GAAkBqJ,QAAQxG,CAAR,CAAlB;AACA,KAFD,MAEK;AACJ6G,kBAAa5J,EAAEc,MAAF,CAAS,IAAT,EAAe8I,UAAf,EAA2BL,QAAQxG,CAAR,CAA3B,CAAb;AACA;;AAED,QAAGsG,UAAUO,WAAWP,KAAxB,EAA+B,kBAZyC,CAY9B;AAC1C,QAAG,CAACjJ,MAAM+J,iBAAN,CAAwBpK,UAAxB,EAAoC6J,UAApC,CAAJ,EAAqD,kBAbmB,CAaT;;AAE/D,QAAGP,UAAQ,KAAX,EAAiB;AAAC;AACjB,SAAG1F,YAAY,IAAf,EAAoB;AACnBA,gBAAUvD,MAAMgK,YAAN,CAAmBrK,UAAnB,EAA+B6J,UAA/B,EAA2CjG,OAA3C,EAAV;AACA,MAFD,MAEK;AACJA,cAAQlB,IAAR,CAAa,YAAM;AAClBkB,iBAAUvD,MAAMgK,YAAN,CAAmBrK,UAAnB,EAA+B6J,UAA/B,EAA2CjG,OAA3C,EAAV;AACA,OAFD;AAGA;AACD,KARD,MAQK;AAAC;AACLA,aAAQP,IAAR,CAAahD,MAAMgK,YAAN,CAAmBrK,UAAnB,EAA+B6J,UAA/B,EAA2C,IAA3C,CAAb;AACA;AAzBuE;;AAIzE,QAAI,IAAI7G,CAAR,IAAawG,OAAb,EAAqB;AAAA,qBAAbxG,CAAa;;AAAA,6BASiC;AAarD;;AAED,OAAGsG,UAAQ,KAAX,EAAkB;AAAG;AACpB,QAAG1F,YAAY,IAAf,EAAoB;AAAG;AACtB,UAAK+F,aAAL,CAAmB3J,UAAnB,EAA+BwJ,OAA/B,EAAwC,IAAxC,EAA8C,IAA9C,EAAoD9G,IAApD,CAAyDtC,QAAzD;AACA,KAFD,MAEK;AACJwD,aAAQlB,IAAR,CAAa,YAAM;AAClB,aAAKiH,aAAL,CAAmB3J,UAAnB,EAA+BwJ,OAA/B,EAAwC,IAAxC,EAA8C,IAA9C,EAAoD9G,IAApD,CAAyDtC,QAAzD;AACA,MAFD;AAGA;AACD,IARD,MAQK;AAAC;AACL,WAAOH,EAAEsE,IAAF,CAAOC,KAAP,CAAab,SAAb,EAAwBC,OAAxB,EAAiCA,OAAjC,EAAP;AACA;AACD;;;sCAEmD;AAAA,OAAjC5D,UAAiC,uEAAtBC,EAAE,MAAF,CAAsB;AAAA,OAAX4J,UAAW;;AACnD,OAAIxJ,QAAQ,IAAZ;;AAEA,OAAGwJ,WAAWR,IAAX,KAAoB,IAAvB,EAA4B;AAAI;AAC/B,WAAO,IAAP;AACA,IAFD,MAEM,IAAGQ,WAAWR,IAAX,KAAoB,MAAvB,EAA8B;AAAI;AACvC,QAAIG,UAAU,EAAd;;AAEAxJ,eAAW2I,IAAX,CAAgB,WAAS,KAAK7I,MAAL,CAAY2J,oBAArB,GAA0C,GAA1D,EAA+DzE,IAA/D,CAAoE,YAAU;AAC7E,SAAIsF,OAAOrK,EAAE,IAAF,EAAQqK,IAAR,CAAajK,MAAMP,MAAN,CAAa2J,oBAA1B,EAAgDc,KAAhD,CAAsD,GAAtD,CAAX;AACAf,eAAUA,QAAQgB,MAAR,CAAeF,IAAf,CAAV;AACA,KAHD;;AAKA,QAAGd,QAAQtG,OAAR,CAAgB2G,WAAW1J,IAA3B,MAAqC,CAAC,CAAzC,EAA2C;AAC1C,YAAO,IAAP;AACA;AACD;AACD,UAAO,KAAP;AACA;;AAED;;;;;;;;;;iCAOgD;AAAA,OAAlCH,UAAkC,uEAAvBC,EAAE,MAAF,CAAuB;AAAA,OAAZ4J,UAAY;;AAC/C,OAAIxJ,QAAQ,IAAZ;AAAA,OACC2D,QAAQ,IAAI/D,EAAEgE,QAAN,EADT;;AAGA,QAAK4F,WAAW1J,IAAhB,EAAsB6H,EAAtB,CAAyB,OAAzB,EAAkC,YAAU;AAC3ChE,UAAMI,OAAN;AACA,IAFD;AAGA,QAAKyF,WAAW1J,IAAhB,EAAsB+I,UAAtB,CAAiCW,WAAW/J,MAA5C,EAAoDE,UAApD;AACA,UAAOgE,KAAP;AACA;;;;;;kBAnKmBuF,W;;;;;;;;;;;;;;;kBCTGxI,M;AAPxB;;;;;;;AAOe,SAASA,MAAT,CAAgB0J,QAAhB,EAA0BC,UAA1B,EAAsC;AACpD,KAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAC5D,QAAM,IAAIC,SAAJ,CAAc,qEAAoED,UAApE,yCAAoEA,UAApE,EAAd,CAAN;AACA;AACDD,UAAST,SAAT,GAAqBY,OAAOC,MAAP,CAAcH,cAAcA,WAAWV,SAAvC,EAAkD;AACtEzJ,eAAa;AACZI,UAAO8J,QADK;AAEZK,eAAY,KAFA;AAGZC,aAAU,IAHE;AAIZC,iBAAc;AAJF;AADyD,EAAlD,CAArB;AAQA,KAAIN,UAAJ,EAAgBE,OAAOK,cAAP,GAAwBL,OAAOK,cAAP,CAAsBR,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASS,SAAT,GAAqBR,UAA3F;AAChB,C;;;;;;;;;;;;;;;ACbD;;;;;;;;;;+eAPA;;;;;;;AASA,IAAIS,WAAW,OAAf;;IAEqBC,K;;;;;;;;;;;kCAEmC;AAAA,OAAjChL,QAAiC,uEAAxB,YAAI,CAAE,CAAkB;AAAA,OAAhByB,GAAgB,uEAAVsJ,QAAU;;AACtD,OAAIE,YAAa,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AAAA,OACClL,QAAQ,IADT;;AAGA,OAAImL,MAAMvL,EAAEwE,IAAF,CAAO;AAChBgH,cAAU,MADM;AAEhB5J,SAAKA,MAAM,KAAN,GAAc6J,KAAKC,MAAL,EAFH;AAGhBC,aAAS,iBAASC,GAAT,EAAa;AACrB,SAAIC,UAAW,IAAIR,IAAJ,EAAD,CAAaC,OAAb,EAAd;AAAA,SACCQ,OAAOP,IAAIQ,iBAAJ,CAAsB,gBAAtB,CADR;AAAA,SAECC,WAAW,CAACH,UAAUT,SAAX,IAAwB,IAFpC;AAAA,SAGCa,OAAOH,OAAQ,CAHhB;AAAA,SAICI,MAAM,CAACD,OAAOD,QAAR,EAAkBG,OAAlB,CAA0B,CAA1B,CAJP;AAAA,SAKCC,OAAO,CAACF,MAAM,IAAP,EAAaC,OAAb,CAAqB,CAArB,CALR;AAAA,SAMCE,OAAO,CAACD,OAAO,IAAR,EAAcD,OAAd,CAAsB,CAAtB,CANR;;AAQA,SAAG,OAAOhM,QAAP,IAAmB,UAAtB,EAAiC;AAChCA,eAAS;AACR,cAAOyB,GADC;AAER,eAAQkK,IAFA;AAGR,cAAOI,GAHC;AAIR,eAAQE,IAJA;AAKR,eAAQC;AALA,OAAT;AAOA,MARD,MAQK;AACJjM,YAAMC,GAAN,CAAU,6DAAV;AACA;AACD;AAvBe,IAAP,CAAV;AAyBA;;;;;;kBA/BmB8K,K;;;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;+eATA;;;;;;;;;IAWqBA,K;;;AAEpB;;;;AAIA,kBAAyB;AAAA,MAAZtL,MAAY,uEAAH,EAAG;;AAAA;;AAAA;;AAExB,QAAKK,IAAL,GAAa,OAAOL,OAAOK,IAAd,IAAsB,WAAvB,GAAoCL,OAAOK,IAA3C,GAAgD,IAA5D;AACA,QAAK0G,QAAL,GAAgB,EAAhB;AAHwB;AAIxB;;AAED;;;;;;;;;+BAKuB;AAAA,OAAZ/G,MAAY,uEAAH,EAAG;;AACtB,OAAIgB,UAAU,EAAd;AACA,OAAG,QAAOhB,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6B,OAAOA,OAAOM,QAAd,IAA0B,UAA1D,EAAqE;AACpEU,cAAUhB,MAAV;AACA,IAFD,MAEM,IAAG,OAAOA,MAAP,IAAiB,UAApB,EAA+B;AACpCgB,YAAQV,QAAR,GAAmBN,MAAnB;AACA,IAFK,MAED;AACJ,SAAKQ,GAAL,CAAS,iCAAT;AACA;;AAED,OAAG,OAAOQ,QAAQV,QAAf,IAA2B,UAA9B,EAAyC;AACxC,SAAKyG,QAAL,CAAcxD,IAAd,CAAmBvC,OAAnB;AACA,WAAO,IAAP;AACA;AACD,UAAO,KAAP;AACA;;AAED;;;;;;;;gCAKcV,Q,EAAS;AACtB,OAAG,KAAKyG,QAAL,CAAcrE,MAAjB,EAAwB;AACvB,SAAKqE,QAAL,CAAcjG,OAAd,CAAsB,UAACE,OAAD,EAAUyL,KAAV,EAAiBC,MAAjB,EAA4B;AACjD,SAAG1L,QAAQV,QAAR,KAAqBA,QAAxB,EAAiC;AAChCoM,aAAOC,MAAP,CAAcF,KAAd,EAAqB,CAArB;AACA;AACD,KAJD;AAKA;AACD,UAAO,KAAP;AACA;;AAED;;;;;;;4BAIkB;AAAA,OAAVzM,MAAU,uEAAH,EAAG;;AACjB,OAAG,KAAK+G,QAAL,CAAcrE,MAAjB,EAAwB;AACvB,SAAKqE,QAAL,CAAcjG,OAAd,CAAsB,UAACE,OAAD,EAAUkC,CAAV,EAAgB;AACrClC,aAAQV,QAAR,CAAiBN,MAAjB,EAAyBgB,OAAzB;AACA,YAAO,IAAP;AACA,KAHD;AAIA;AACD,UAAO,KAAP;AACA;;;;;;kBA9DmBsK,K;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;QAGC7B,W;QACA5J,M;QACAoB,M;QACW2L,gB;QACXC,O,sBAlBD;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB","file":"./dist/boreas.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ad2935ce3550140d30a1","/**\r\n * Клас описывает стандартный функционал модулей.\r\n * От него необходимо наследовать все модули приложения.\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 08.06.2017\r\n * Time: 12:10\r\n */\r\n\r\nimport base from './base';\r\nimport event from './event';\r\n\r\nexport default class module extends base {\r\n\r\n\t/**\r\n\t * Конструктор класса\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.__events = {};\r\n\t\tthis.__registerEvents(['ready']);\r\n\t}\r\n\r\n\t/**\r\n\t * Инициализация модуля\r\n\t * @param params - Параметры модуля\r\n\t * @param container - HTML контейнер модуля, jQuery-объект или селектор\r\n\t */\r\n\tinitialize(params = {}, container='body'){\r\n\t\tlet $container = null;  //  jQuery-объект\r\n\t\tif(typeof container == 'string'){\r\n\t\t\t$container = $(container);\r\n\t\t}else{\r\n\t\t\t$container = container;\r\n\t\t}\r\n\r\n\t\t//  Далее инициализируем модуль внутри контейнера $container\r\n\r\n\t\tthis.trigger('ready');\r\n\t\t//this.log(`Module \"${this.constructor.name}\" initialized`);\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Добавление обработчика события модуля\r\n\t * @param name Имя события\r\n\t * @param callback Функция-обработчик события\r\n\t * @returns {boolean}\r\n\t */\r\n\ton (name=null, callback=(params, scope)=>{}){\r\n\t\tif(!name || !callback || typeof callback != 'function'){\r\n\t\t\tthis.log(`${this.constructor.name}.on: Не переданы обязательные параметры`);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif(typeof this.__events[name] == 'undefined'){\r\n\t\t\tthis.log(`${this.constructor.name}.on: Событие \"${name}\" не определено`);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn this.__events[name].addHandler(callback);\r\n\t}\r\n\r\n\t/**\r\n\t * Удаление обработчика события\r\n\t * @param name Имя события\r\n\t * @param callback Функция-обработчик события. Если не передана, то метод удалит все обработчики\r\n\t * @returns {boolean}\r\n\t */\r\n\toff (name=null, callback=null){\r\n\t\tif(!name) return false;\r\n\r\n\t\tif(typeof this.__events[name] == 'undefined'){\r\n\t\t\tthis.log(`${this.constructor.name}.off: Событие \"${name}\" не определено`);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif(callback && typeof callback == 'function'){\r\n\t\t\tthis.__events[name].removeHandler(callback);\r\n\t\t}else{\r\n\t\t\tdelete this.__events[name];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t//return false;\r\n\t}\r\n\r\n\t/**\r\n\t * Выполнение события модуля\r\n\t * @param name Имя события\r\n\t * @param params Параметры, которые будут переданы callback-функции\r\n\t * @return {boolean}\r\n\t */\r\n\ttrigger (name=null, params = {}) {\r\n\t\tif(typeof this.__events[name] != 'undefined'){\r\n\t\t\treturn this.__events[name].execute(params, this);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Регистрация событий модуля\r\n\t * @param value Имя события или массив\r\n\t * @private\r\n\t */\r\n\t__registerEvents(value=null){\r\n\t\tif(!value) return false;\r\n\r\n\t\tif(typeof value == 'object'){\r\n\t\t\tvalue.forEach((name, k) => {\r\n\t\t\t\tthis.__events[name] = new event({\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}else if(typeof value == 'string'){\r\n\t\t\tlet name = value;\r\n\t\t\tthis.__events[name] = new event({\r\n\t\t\t\tname: name,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/module.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 13.06.2017\r\n * Time: 9:37\r\n */\r\n\r\nimport module from \"../../lib/module\";\r\n\r\n/**\r\n * Данный абстрактный класс используется для наследования от него обработчиков модуля preloader\r\n *\r\n * Обязатенльные методы:\r\n * initialize() - Производоит инициализацию обработчика\r\n * getStatus() - объект { total: N1, loaded: N2 }, где N1 - общее число загружаемых элементов, а N2 - число загруженных на данный момент  элементов\r\n *\r\n * Обязательно должны выполняться события:\r\n * progress - отдаёт прелодеру новое число загруженных элементов\r\n * ready - сообщает прелодеру, что обработчик загрузил все элементы\r\n *\r\n */\r\nexport default class handler extends module {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t\tthis.__registerEvents(['progress']);\r\n\t\tthis.params = {};\r\n\t}\r\n\r\n\tinitialize (params={}) {\r\n\t\t$.extend( true, this.params, params );\r\n\r\n\t\tthis.trigger('progress', this.getStatus());\r\n\t\tthis.trigger('ready');\r\n\t}\r\n\r\n\tgetStatus () {\r\n\t\treturn {\r\n\t\t\ttotal: 0,\r\n\t\t\tloaded: 0,\r\n\t\t\tsrc: null,\r\n\t\t};\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader/handler.js","/**\r\n * Базовый класс. От него наследуются все классы приложения\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 09.06.2017\r\n * Time: 9:24\r\n */\r\n\r\nexport default class base {\r\n\tlog (message) {\r\n\t\tif(console && console.log) {\r\n\t\t\tconsole.log(message);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/base.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 12.06.2017\r\n * Time: 18:53\r\n */\r\n\r\nimport handler from \"./handler\";\r\n\r\nexport default class imagesHandler extends handler {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\r\n\t\tthis.params = {\r\n\t\t\tselector: 'html',\r\n\t\t\tregex: {\r\n\t\t\t\tfile: /(?:href=\"(.*?)\")|(?:src=\"(.*?)\")|(?:url\\((.*?)\\))/ig,\r\n\t\t\t\tquote: /(&quot;)|(')|(\")/g,\r\n\t\t\t\tfont: /@font-face\\s*{([^}]*)}/ig,\r\n\t\t\t\turl: /url\\(([^\\)]+)\\)/ig,\r\n\t\t\t},\r\n\t\t\textensions: {\r\n\t\t\t\timage: [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"],\r\n\t\t\t\tcss: ['css', 'less', 'scss'],\r\n\t\t\t\t//js: ['js'],\r\n\t\t\t},\r\n\t\t\tsearchInCss: true,\r\n\t\t};\r\n\t\tthis.__found = null;\r\n\t\tthis.__loaded = [];\r\n\t}\r\n\r\n\tinitialize (params = {}) {\r\n\t\t$.extend( true, this.params, params );\r\n\r\n\t\t//  Создаём ключи объекта в который будут помещаться найденные ресурсы\r\n\t\tthis.__found = { font:[] };\r\n\t\tfor(let type in this.params.extensions){\r\n\t\t\tthis.__found[type] = [];\r\n\t\t}\r\n\r\n\t\t//  Ищем ресурсы в области, селектора, переданного в параметрах\r\n\t\tlet str = $(this.params.selector).html();\r\n\t\tthis.__findSources(str);\r\n\r\n\t\t//  Если в параметрах включена подгрузка CSS - то грузим их и обрабатываем\r\n\t\tif(this.params.searchInCss === true && this.__found.css.length){\r\n\t\t\tthis.__processCss(str).done(() => {\r\n\t\t\t\tthis.__loadFiles();\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tthis.__loadFiles();\r\n\t\t}\r\n\t}\r\n\r\n\tgetStatus (){\r\n\t\treturn {\r\n\t\t\ttotal: this.__found.image.length,\r\n\t\t\tloaded: this.__loaded.length,\r\n\t\t\tsrc: null,\r\n\t\t\tdesc: null,\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Метод ищет ресурсы в строке\r\n\t * @param str HTML или CSS\r\n\t * @private\r\n\t */\r\n\t__findSources (str) {\r\n\t\tthis.__findFonts(str);  // Сначала ищем в нашей строке шрифты\r\n\r\n\t\tlet match;\r\n\t\twhile(match = this.params.regex.file.exec(str)){\r\n\t\t\tfor(let i = match.length - 1; i >= 0; i--){\r\n\t\t\t\tif(typeof match[i] !== 'undefined'){\r\n\t\t\t\t\tlet url = match[i];\r\n\t\t\t\t\turl = url.replace(this.params.regex.quote, ''); //  Убираем ковычки из URL\r\n\t\t\t\t\tif(!url.length || url == '#' || url.indexOf('data:') !== -1) break; //  Отсекаем мусор\r\n\t\t\t\t\tif(this.__found.font.indexOf(url) !== -1) break;   // Отсекаем найденные шрифты\r\n\r\n\t\t\t\t\tlet fileType = this.__identifyFileType(url);\r\n\t\t\t\t\tif(fileType && this.__found[fileType].indexOf(url) == -1){\r\n\t\t\t\t\t\tthis.__found[fileType].push(url);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод ищет шрифты в строке\r\n\t * Внимание! Данный обработчик не выполняет предзагрузку шрифтов, он их исключает\r\n\t * @param str\r\n\t * @private\r\n\t */\r\n\t__findFonts (str) {\r\n\t\tlet match, subMatch;\r\n\t\twhile(match = this.params.regex.font.exec(str)) {\r\n\t\t\tfor (let i = match.length - 1; i >= 0; i--) {\r\n\t\t\t\tif (typeof match[i] !== 'undefined') {\r\n\t\t\t\t\tlet subStr = match[i];\r\n\t\t\t\t\twhile(subMatch = this.params.regex.url.exec(subStr)) {\r\n\t\t\t\t\t\tfor (let i = subMatch.length - 1; i >= 0; i--) {\r\n\t\t\t\t\t\t\tif (typeof subMatch[i] !== 'undefined') {\r\n\t\t\t\t\t\t\t\tlet url = subMatch[i];\r\n\t\t\t\t\t\t\t\turl = url.replace(this.params.regex.quote, ''); //  Убираем ковычки из URL\r\n\t\t\t\t\t\t\t\tif(!url.length || url == '#' || url.indexOf('data:') !== -1) break; //  Отсекаем мусор\r\n\r\n\t\t\t\t\t\t\t\tthis.__found['font'].push(url);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Определяет тип файла по URL. Соответствия расширений определены в параметрах инициализации\r\n\t * @param url URL\r\n\t * @return {string|false} Метод возвращает тип файла или false\r\n\t * @private\r\n\t */\r\n\t__identifyFileType (url) {\r\n\t\tlet filetype = false,\r\n\t\t\textension = (/[.]/.exec(url)) ? /[^.]+$/.exec(url).toString() : undefined;\r\n\r\n\t\tif(typeof extension == 'undefined') return false;\r\n\t\tfor(let type in this.params.extensions){\r\n\t\t\tif(this.params.extensions[type].indexOf(extension) !== -1){\r\n\t\t\t\tfiletype = type;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filetype;\r\n\t}\r\n\r\n\t/**\r\n\t * Загрузка файлов\r\n\t * @private\r\n\t */\r\n\t__loadFiles () {\r\n\t\tlet promise = [];\r\n\r\n\t\tif(typeof this.__found.image != 'undefined' && this.__found.image.length) {\r\n\t\t\tfor (let i in this.__found.image) {\r\n\t\t\t\tthis.__loadImageAsync(this.__found.image[i]).promise().done(() => {\r\n\t\t\t\t\tthis.__updateStatus(this.__found.image[i]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Обновление статуса загрузки файла\r\n\t * @param src\r\n\t * @private\r\n\t */\r\n\t__updateStatus (src) {\r\n\t\tif(!this.__loaded) {\r\n\t\t\tthis.__loaded = [];\r\n\t\t}\r\n\t\tthis.__loaded.push(src);\r\n\r\n\t\tlet status = this.getStatus();\r\n\t\tstatus.src = src;\r\n\t\tthis.trigger('progress', status);\r\n\r\n\t\tif(status.total == status.loaded){\r\n\t\t\tthis.trigger('ready');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод загружает изображение в асинхронном режиме\r\n\t * @param url URL файла\r\n\t * @return {$.Deferred} Метод возвращает Deferred's Promise object\r\n\t * @private\r\n\t */\r\n\t__loadImageAsync (url) {\r\n\t\tlet defer = new $.Deferred();\r\n\r\n\t\tlet image = new Image();\r\n\t\timage.src = url;\r\n\t\timage.onload = function () {\r\n\t\t\tdefer.resolve();\r\n\t\t};\r\n\t\timage.onerror = function () {\r\n\t\t\tdefer.resolve();\r\n\t\t};\r\n\r\n\t\treturn defer;\r\n\t}\r\n\r\n\t/**\r\n\t * Загрузка и обработка CSS-файлов\r\n\t * @return {$.Deferred} Метод возвращает Deferred's Promise object\r\n\t * @private\r\n\t */\r\n\t__processCss (){\r\n\t\tlet promise = [];\r\n\t\tfor(var i in this.__found.css){\r\n\t\t\tpromise.push(this.__processUrlAsync(this.__found.css[i]));\r\n\t\t}\r\n\r\n\t\treturn $.when.apply(undefined, promise).promise();\r\n\t}\r\n\r\n\t/**\r\n\t * Запрашивает URL в асинхронном режиме\r\n\t * @param url\r\n\t * @return {$.Deferred} Метод возвращает объект jQuery.Deferred\r\n\t * @private\r\n\t */\r\n\t__processUrlAsync (url){\r\n\t\tlet scope = this,\r\n\t\t\tdefer = new $.Deferred();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url\r\n\t\t}).done((response) => {\r\n\t\t\tscope.__findSources(response);\r\n\t\t\tdefer.resolve();\r\n\t\t}).fail(() => {\r\n\t\t\tdefer.resolve();\r\n\t\t});\r\n\r\n\t\treturn defer;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader/imagesHandler.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 15.06.2017\r\n * Time: 18:22\r\n */\r\n\r\nimport handler from \"./handler\";\r\n\r\nexport default class mediaHandler extends handler {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t\tthis.params = {\r\n\t\t\tselector: 'audio, video',\r\n\t\t\tblob: false,\r\n\t\t};\r\n\r\n\t\tthis.__total = 0;\r\n\t\tthis.__loaded = 0;\r\n\t}\r\n\r\n\tinitialize (params = {}) {\r\n\t\tlet scope = this;\r\n\t\t$.extend( true, this.params, params );\r\n\r\n\t\tlet loadMethod = (scope.params.blob)?'__loadMediaBlob':'__loadMedia';\r\n\t\tthis[loadMethod]().done(() => {\r\n\t\t\tscope.trigger('ready');\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Получение статуса загрузки\r\n\t * @return {{total: number, loaded: number}}\r\n\t */\r\n\tgetStatus (){\r\n\t\treturn {\r\n\t\t\ttotal: this.__total,\r\n\t\t\tloaded: this.__loaded,\r\n\t\t\tsrc: null,\r\n\t\t\tdesc: null,\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Обработка загрузки медиа\r\n\t * @private\r\n\t */\r\n\t__loadMedia () {\r\n\t\tlet scope = this,\r\n\t\t\tpromise = [];\r\n\r\n\t\t$(this.params.selector).each(function(){\r\n\t\t\tlet source = this,\r\n\t\t\t\tdefer = new $.Deferred();\r\n\t\t\t/*\r\n\t\t\tif(source.preload == 'none'){\r\n\t\t\t\tsource.load();\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tscope.__total++;\r\n\r\n\t\t\tlet tagName = source.tagName.toLowerCase();\r\n\t\t\tlet media = document.createElement(tagName);\r\n\t\t\tmedia.src = source.currentSrc;\r\n\r\n\t\t\tmedia.addEventListener('canplaythrough', function(){\r\n\t\t\t\tscope.__updateItem(source.currentSrc);\r\n\t\t\t\tdefer.resolve();\r\n\t\t\t\tmedia.oncanplay = null;\r\n\t\t\t}, false);\r\n\r\n\t\t\tmedia.addEventListener('onerror', function(){\r\n\t\t\t\tscope.__updateItem(source.currentSrc);\r\n\t\t\t\tdefer.resolve();\r\n\t\t\t\tmedia.onerror = null;\r\n\t\t\t}, false);\r\n\r\n\t\t\tpromise.push(defer);\r\n\t\t});\r\n\r\n\t\t//  Если promise пуст, то создаём и резолвим пустой $.Deferred()\r\n\t\tif(!promise.length){\r\n\t\t\tlet defer = new $.Deferred();\r\n\t\t\tdefer.resolve();\r\n\t\t\tpromise.push(defer);\r\n\t\t}\r\n\r\n\t\treturn $.when.apply(undefined, promise).promise();\r\n\t}\r\n\r\n\t__loadMediaBlob () {\r\n\t\tlet scope = this,\r\n\t\t\tpromise = [];\r\n\r\n\t\t$(this.params.selector).each(function(){\r\n\t\t\tlet media = this,\r\n\t\t\t\tdefer = new $.Deferred();\r\n\r\n\t\t\tscope.__total++;\r\n\r\n\t\t\tvar req = new XMLHttpRequest();\r\n\t\t\treq.open('GET', media.currentSrc, true);\r\n\t\t\treq.responseType = 'blob';\r\n\r\n\t\t\treq.onload = function() {\r\n\t\t\t\tif (this.status === 200) {\r\n\t\t\t\t\tlet mediaBlob = this.response;\r\n\t\t\t\t\tlet blobUrl = URL.createObjectURL(mediaBlob); // IE10+\r\n\t\t\t\t\tmedia.src = blobUrl;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.__updateItem(media.currentSrc);\r\n\t\t\t\tdefer.resolve();\r\n\t\t\t};\r\n\t\t\treq.onerror = function() {\r\n\t\t\t\tscope.__updateItem(media.currentSrc);\r\n\t\t\t\tdefer.resolve();\r\n\t\t\t};\r\n\t\t\treq.send();\r\n\r\n\t\t\tpromise.push(defer);\r\n\t\t});\r\n\r\n\t\t//  Если promise пуст, то создаём и резолвим пустой $.Deferred()\r\n\t\tif(!promise.length){\r\n\t\t\tlet defer = new $.Deferred();\r\n\t\t\tdefer.resolve();\r\n\t\t\tpromise.push(defer);\r\n\t\t}\r\n\r\n\t\treturn $.when.apply(undefined, promise).promise();\r\n\t}\r\n\r\n\t/**\r\n\t * Говорим что был загружен один элемент\r\n\t * @private\r\n\t */\r\n\t__updateItem (src){\r\n\t\tthis.__loaded++;\r\n\t\tlet status = this.getStatus();\r\n\t\tstatus.src = src;\r\n\t\tthis.trigger('progress', status);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader/mediaHandler.js","/**\r\n * Класс loader\r\n * Выполняет отображение и скрытие индикатора загрузки\r\n *\r\n * Внимание! Для работы данного класса должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 06.06.2017\r\n * Time: 14:49\r\n */\r\n\r\nimport module from \"../lib/module\";\r\n\r\nlet __isLoading = 0;\r\n\r\nexport default class loader extends module {\r\n\r\n\t/**\r\n\t *  Метод показывает или прячет загрузчик\r\n\t * @param show\r\n\t */\r\n\tprocess(show = true){\r\n\t\tif(show){\r\n\t\t\tthis.show();\r\n\t\t}else{\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *  Метод показывает загрузчик или прибавляет счётчик\r\n\t */\r\n\tshow (){\r\n\t\t__isLoading++;\r\n\t\tif(__isLoading === 1){\r\n\t\t\tthis.__showLoader();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *  Метод скрывает загрузчик, или отнимает счётчик\r\n\t */\r\n\thide (){\r\n\t\tif(__isLoading > 0){\r\n\t\t\t__isLoading--;\r\n\t\t}\r\n\t\tif(__isLoading === 0){\r\n\t\t\tthis.__hideLoader();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод отвечает непосредственно за отображение индикатора загрузки\r\n\t * @private\r\n\t */\r\n\t__showLoader (){\r\n\t\tif(typeof BX != 'undefined'){\r\n\t\t\tBX.showWait();\r\n\t\t}else{\r\n\t\t\tif(console && console.log){\r\n\t\t\t\tconsole.log(\"Для работы данного метода должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод отвечает непосредственно за скрытие индикатора загрузки\r\n\t * @private\r\n\t */\r\n\t__hideLoader (){\r\n\t\tif(typeof BX != 'undefined'){\r\n\t\t\tBX.showWait();\r\n\t\t}else{\r\n\t\t\tif(console && console.log){\r\n\t\t\t\tconsole.log(\"Для работы данного метода должна быть загружена и инициализирована библиотека CJSCore из 1C-Битрикс\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/loader.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 06.06.2017\r\n * Time: 17:01\r\n */\r\n\r\nimport module from \"../lib/module\";\r\nimport imagesHandler from \"./preloader/imagesHandler\";\r\nimport mediaHandler from \"./preloader/mediaHandler\";\r\n\r\nexport default class preloader extends module {\r\n\r\n\tconstructor (){\r\n\t\tsuper();\r\n\t\tlet scope = this;\r\n\r\n\t\tscope.__registerEvents(['progress']);\r\n\t\tscope.params = {\r\n\t\t\thandlers: [],   //  Дополнительные обработчики\r\n\t\t\tmethods: {      //  Методы для работы с представлениям, для переопределения\r\n\t\t\t\tshow: this.__showPreloader,\r\n\t\t\t\tupdate: this.__updateBar,\r\n\t\t\t\thide: this.__hidePreloader,\r\n\t\t\t},\r\n\t\t\tmedia: true,    //  Обрабатывать HTML5 Media (<audio>  и <video>)\r\n\t\t\tdelay: 800,     //  Время ожидания перед скрытием прелодера\r\n\t\t\ttimeout: 30000, //  Максимальное время загрузки (на случай зависания)\r\n\t\t\twatcher: false, // Использовать watcher для анимации прелодера. int (ms) или false\r\n\t\t};\r\n\t\tscope.__handlers = [];  // Массив обработчиков прелодера\r\n\t\tscope.__status = {  // Текущий статус обработчика\r\n\t\t\ttotal: 0,       // Общее число элементов\r\n\t\t\tloaded: 0,      // Число загруженных элементов\r\n\t\t\tsrc: null,      // URL последнего загруженного элементв (если есть)\r\n\t\t\tdesc: null,     // Описание последнего загруженного элементв (если есть)\r\n\t\t};\r\n\t\tscope.__$preloader = null;  // jQuery-объект прелодера\r\n\t\tscope.__watcherTt = null;   // Timeout AnimationWatcher'а\r\n\t\tscope.__ready = false;      // Готовность прелодера. Используется для взаимодействия с методом __forceFinish()\r\n\t}\r\n\r\n\tinitialize (params={}) {\r\n\t\tlet scope = this;\r\n\t\t$.extend( true, scope.params, params );\r\n\r\n\t\tscope.params.methods.show();\r\n\r\n\t\t//  Обработчики по-умолчанию\r\n\t\tscope.addHandler('images', imagesHandler);\r\n\t\tif(scope.params.media === true){\r\n\t\t\tscope.addHandler('media', mediaHandler);\r\n\t\t}\r\n\r\n\t\t//  Пользовательские обработчики\r\n\t\tif(scope.params.handlers.length){\r\n\t\t\tfor(let i in scope.params.handlers){\r\n\t\t\t\tlet handler = scope.params.handlers[i];\r\n\t\t\t\tif(typeof handler.params == 'undefined') handler.params = {};\r\n\t\t\t\tthis.addHandler(handler.name, handler.class, handler.params);\r\n\t\t\t}\r\n\t\t}\r\n\t\tscope.__initHandlers();\r\n\t\tif(scope.params.watcher !== false){\r\n\t\t\tscope.__animationWatcher();\r\n\t\t}\r\n\r\n\t\t//  На случай если загрузка длится дольше, чем указано в настройках\r\n\t\tif(scope.params.timeout > 0){\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tif(scope.__ready === false){\r\n\t\t\t\t\tscope.__forceFinish();\r\n\t\t\t\t\tscope.__ready = true;\r\n\t\t\t\t}\r\n\t\t\t}, scope.params.timeout);\r\n\t\t}\r\n\r\n\t\t// Прелодер считается загруженным когда общее\r\n\t\t// количество элементов равно количеству загруженных\r\n\t\tscope.on('progress', (status) => {\r\n\t\t\tif(scope.__watcherTt === null){ // На случае если не используется __animationWatcher()\r\n\t\t\t\tscope.params.methods.update(status);\r\n\t\t\t}\r\n\t\t\tif(status.loaded == status.total){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tif(scope.__ready === false){\r\n\t\t\t\t\t\tscope.trigger('ready');\r\n\t\t\t\t\t\tscope.__ready = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, scope.params.delay);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Действие выполняется когда прелодер загружен\r\n\t\tscope.on('ready', () => {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\tscope.params.methods.hide();\r\n\t\t\tif(scope.params.watcher !== false){\r\n\t\t\t\tscope.__animationWatcher(false);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Добавление обработчика загрузки\r\n\t * @param name Имя обработчика\r\n\t * @param handlerClass Класс обработчика. Должен быть унаследован от preloader/handler.js\r\n\t * @param params Параметры инициализации обработчика\r\n\t */\r\n\taddHandler (name, handlerClass, params={}) {\r\n\t\tthis.__handlers.push({\r\n\t\t\tname: name,\r\n\t\t\tclass: handlerClass,\r\n\t\t\tparams: params,\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Метод отвечает за плавность анимации загрузки.\r\n\t * Прелодер обновляется через  интервал scope.params.watcher,\r\n\t * так-же к прогресс-бару необходимо добавить transition,\r\n\t * по длительности равный данному параметру\r\n\t * @param (boolean) start Запустить или остановить \"animationWatcher\"\r\n\t * @private\r\n\t */\r\n\t__animationWatcher (start=true){\r\n\t\tif(scope.params.watcher === false) return;\r\n\t\tlet scope = this,\r\n\t\t\tvalue = 0;\r\n\r\n\t\tif(start === false){\r\n\t\t\tclearInterval(this.__watcherTt);\r\n\t\t\tscope.__watcherTt = null;\r\n\t\t}else if(start === true && scope.__watcherTt === null){\r\n\t\t\tscope.__watcherTt = setInterval(() => {\r\n\t\t\t\tif(value < scope.__status.loaded){\r\n\t\t\t\t\tscope.params.methods.update(scope.__status);\r\n\t\t\t\t\tvalue = scope.__status.loaded;\r\n\t\t\t\t}\r\n\t\t\t}, scope.params.watcher);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод отображает прелодер.\r\n\t * Переопределяется параметром methods.show.\r\n\t * @private\r\n\t */\r\n\t__showPreloader (){\r\n\t\t$('body').addClass('boreas-preloader-opened');\r\n\t\tthis.__$preloader = $('.boreas-preloader');\r\n\t\tif(!this.__$preloader.length){\r\n\t\t\tthis.__$preloader = $(`<div class=\"boreas-preloader\">\r\n\t\t\t\t<div class=\"progress\">\r\n\t\t\t\t\t<div class=\"progress-bar\" role=\"progressbar\" style=\"width: 0%\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`);\r\n\t\t\t$('body').append(this.__$preloader);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Метод обновляет прогресс-бар.\r\n\t * Переопределяется параметром methods.update.\r\n\t * @param status\r\n\t * @private\r\n\t */\r\n\t__updateBar (status=null) {\r\n\t\tlet percent = parseInt(100 / status.total * status.loaded);\r\n\r\n\t\tthis.__$preloader\r\n\t\t\t.find('.progress-bar')\r\n\t\t\t.css({width: percent+'%'})\r\n\t\t\t.attr('aria-valuenow', percent);\r\n\t}\r\n\r\n\t/**\r\n\t * Метод скрывает прелодер.\r\n\t * Переопределяется параметром methods.hide.\r\n\t * @private\r\n\t */\r\n\t__hidePreloader (){\r\n\t\t$('body').removeClass('boreas-preloader-opened');\r\n\t\tthis.__$preloader.fadeOut();\r\n\t}\r\n\r\n\t/**\r\n\t * Метод принудительно останавливает и скрывает прелодер.\r\n\t * Предназначен для случаев зависания.\r\n\t * @private\r\n\t */\r\n\t__forceFinish (){\r\n\t\tlet status = this.__status;\r\n\t\tstatus.loaded = status.total;\r\n\t\tthis.params.methods.update(status);\r\n\t\tthis.trigger('ready');\r\n\t}\r\n\r\n\t/**\r\n\t * Инициализациф обработчиков\r\n\t * @private\r\n\t */\r\n\t__initHandlers () {\r\n\t\tlet _this = this;\r\n\r\n\t\tfor(let i in this.__handlers){\r\n\t\t\tthis.__handlers[i].instance = new this.__handlers[i].class();\r\n\t\t\tthis.__handlers[i].instance.on('progress', (status) => {\r\n\t\t\t\t_this.__updateStatus(status)\r\n\t\t\t\t_this.trigger('progress', _this.__status);\r\n\t\t\t});\r\n\r\n\t\t\tthis.__handlers[i].instance.initialize(this.__handlers[i].params);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Обновление статуса прелодера.\r\n\t * Метод подсчитывает общее число всех и загруженных элементов\r\n\t * из всех обработчиков и записывает их в scope.__status\r\n\t * @param params\r\n\t * @private\r\n\t */\r\n\t__updateStatus (params={}){\r\n\t\tthis.__status.total = 0;\r\n\t\tthis.__status.loaded = 0;\r\n\t\tthis.__status.src = (typeof params.src != 'undefined') ? params.src : null;\r\n\t\tthis.__status.desc = (typeof params.desc != 'undefined') ? params.desc : null;\r\n\r\n\t\tfor(let i in this.__handlers) {\r\n\t\t\tlet handlerStatus = this.__handlers[i].instance.getStatus();\r\n\t\t\tthis.__status.total += handlerStatus.total;\r\n\t\t\tthis.__status.loaded += handlerStatus.loaded;\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/preloader.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 06.06.2017\r\n * Time: 14:38\r\n */\r\n\r\nimport module from \"./module\";\r\n\r\nlet moduleDefaults = {\r\n\t\tname: null,\r\n\t\tload: 'auto',\r\n\t\tasync: true,\r\n\t\tparams: undefined,\r\n\t};\r\n\r\nexport default class application extends module {\r\n\r\n\t/**\r\n\t * Конструктор приложения\r\n\t */\r\n\tconstructor(params = {}){\r\n\t\tsuper();\r\n\t\tthis.params = {\r\n\t\t\tmodules: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'loader', // Имя модуля\r\n\t\t\t\t\tload: true,     // Загружать модуль. Возможные значения: true\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tparams: {/*\r\n\t\t\t\t\t\t'param1': 'value1',\r\n\t\t\t\t\t\t'param2': 'value2',\r\n\t\t\t\t\t*/}\r\n\t\t\t\t},\r\n\t\t\t\t/*\r\n\t\t\t\t * Или так:\r\n\t\t\t\t 'loader',\r\n\t\t\t\t */\r\n\t\t\t],\r\n\t\t\tmodulesDataAttribute: 'boreas-modules',\r\n\t\t};\r\n\t\t$.extend( true, this.params, params );\r\n\t\tthis.__includeModules(this.params.modules);\r\n\t}\r\n\r\n\t/**\r\n\t * Инициализация приложения\r\n\t * @param params Объект, содержащий параметры инициализации\r\n\t */\r\n\tinitialize (container='body') {\r\n\t\tlet scope = this,\r\n\t\t\t$container = null;  //  jQuery-объект\r\n\t\tif(typeof container == 'string'){\r\n\t\t\t$container = $(container);\r\n\t\t}else{\r\n\t\t\t$container = container;\r\n\t\t}\r\n\r\n\t\tthis.__loadModules($container, this.params.modules, () => {\r\n\t\t\tscope.trigger('ready');\r\n\t\t})\r\n\t}\r\n\r\n\tregisterModule (module) {\r\n\t\tlet __defaults = moduleDefaults;\r\n\t\tmodule = $.extend( true, __defaults, module );\r\n\t\tthis.params.modules.push(module);\r\n\t}\r\n\r\n\t__includeModules (modules){\r\n\t\tlet scope = this;\r\n\r\n\t\tfor(let i in modules){\r\n\t\t\tlet moduleItem = $.extend({}, moduleDefaults);\r\n\t\t\tif(typeof moduleItem == 'string'){\r\n\t\t\t\tmoduleItem.name = modules[i];\r\n\t\t\t}else{\r\n\t\t\t\tmoduleItem = $.extend(true, moduleItem, modules[i] );\r\n\t\t\t}\r\n\r\n\t\t\tlet moduleClass = (typeof moduleItem.class != 'undefined') ? moduleItem.class : require('../modules/' + moduleItem.name).default;\r\n\t\t\tmoduleClass.prototype.getApplicationInstance = function (){\r\n\t\t\t\treturn scope;\r\n\t\t\t};\r\n\t\t\tthis[moduleItem.name] = new moduleClass();\r\n\t\t}\r\n\t}\r\n\r\n\t__getApplicationInstance (scrope) {\r\n\t\treturn scropt\r\n\t}\r\n\r\n\t/**\r\n\t * Метод выполняет загрузку модулей в соответствии блоком \"modules\" параметров инициализации.\r\n\t * Сначала метод вызывается с async = false и по одному, синхронно загружает модули, в том порядке, который был передан в блоке \"modules\" параметров инициализации.\r\n\t * После окончания синхронной загрузки, метод вызывает сам себя и догружает оставшиеся модули в асинхронном режиме.\r\n\t *\r\n\t * @param modules Массив загружаемых модулей\r\n\t * @param callback Функция будет вызвана после окончания загрузки\r\n\t * @param async Асинхронная или синхронная загрузка модуля\r\n\t * @private\r\n\t */\r\n\t__loadModules ($container=$('body'), modules, callback=null, async=false) {\r\n\t\tlet scope = this,\r\n\t\t\tpromise = (async===false)?null:[];\r\n\r\n\t\tfor(let i in modules){\r\n\t\t\tlet moduleItem = $.extend({}, moduleDefaults);\r\n\t\t\tif(typeof moduleItem == 'string'){\r\n\t\t\t\tmoduleItem.name = modules[i];\r\n\t\t\t}else{\r\n\t\t\t\tmoduleItem = $.extend(true, moduleItem, modules[i] );\r\n\t\t\t}\r\n\r\n\t\t\tif(async !== moduleItem.async) continue;  //  Отсеиваем модули с другим типом загрузки\r\n\t\t\tif(!scope.__isModuleEnabled($container, moduleItem)) continue; //  Отсеиваем отключённые модули\r\n\r\n\t\t\tif(async===false){//  Синхронная загрузка модулей\r\n\t\t\t\tif(promise === null){\r\n\t\t\t\t\tpromise = scope.__loadModule($container, moduleItem).promise();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tpromise.done(() => {\r\n\t\t\t\t\t\tpromise = scope.__loadModule($container, moduleItem).promise();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}else{//  Асинхронная загрузка модулей\r\n\t\t\t\tpromise.push(scope.__loadModule($container, moduleItem, true));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(async===false) {  //  Загружаем оставшиеся модули синхронно\r\n\t\t\tif(promise === null){  //   Если синхронных не нашлось, то грузим всё асинхронно\r\n\t\t\t\tthis.__loadModules($container, modules, null, true).done(callback);\r\n\t\t\t}else{\r\n\t\t\t\tpromise.done(() => {\r\n\t\t\t\t\tthis.__loadModules($container, modules, null, true).done(callback);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}else{//  Асинхронная загрузка модулей\r\n\t\t\treturn $.when.apply(undefined, promise).promise();\r\n\t\t}\r\n\t}\r\n\r\n\t__isModuleEnabled ($container=$('body'), moduleItem){\r\n\t\tlet scope = this;\r\n\r\n\t\tif(moduleItem.load === true){   // Модуль включён\r\n\t\t\treturn true;\r\n\t\t}else if(moduleItem.load === 'auto'){   // Автоматический ражим загрузки модуля\r\n\t\t\tlet modules = [];\r\n\r\n\t\t\t$container.find('[data-'+this.params.modulesDataAttribute+']').each(function(){\r\n\t\t\t\tlet data = $(this).data(scope.params.modulesDataAttribute).split(\" \");\r\n\t\t\t\tmodules = modules.concat(data);\r\n\t\t\t});\r\n\r\n\t\t\tif(modules.indexOf(moduleItem.name) !== -1){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Загрузка и инициализация модуля\r\n\t * @param moduleClass Класс модуля\r\n\t * @param moduleParams Параметры инициализации модуля\r\n\t * @returns {$.Deferred} Метод возвращает объект jQuery.Deferred или jQuery.Deferred's Promise в зависимости от типа загрузки\r\n\t * @private\r\n\t */\r\n\t__loadModule ($container=$('body'), moduleItem) {\r\n\t\tlet scope = this,\r\n\t\t\tdefer = new $.Deferred();\r\n\r\n\t\tthis[moduleItem.name].on('ready', function(){\r\n\t\t\tdefer.resolve();\r\n\t\t});\r\n\t\tthis[moduleItem.name].initialize(moduleItem.params, $container);\r\n\t\treturn defer;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/application.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 13.06.2017\r\n * Time: 11:40\r\n */\r\n\r\nexport default function extend(subClass, superClass) {\r\n\tif (typeof superClass !== \"function\" && superClass !== null) {\r\n\t\tthrow new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\r\n\t}\r\n\tsubClass.prototype = Object.create(superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t});\r\n\tif (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/extend.js","/**\n * @author Anton Desin <anton.desin@gmail.com>\n * @link http://pirogov.ru/ Бюро Пирогова\n * Date: 23.06.2017\n * Time: 14:09\n */\n\nimport base from './base';\n\nlet testFile = '100kb';\n\nexport default class event extends base {\n\n\tstatic bandwidthTest (callback=()=>{}, url = testFile) {\n\t\tlet startTime = (new Date()).getTime(),\n\t\t\tscope = this;\n\n\t\tvar xhr = $.ajax({\n\t\t\tdataType: \"text\",\n\t\t\turl: url + '?t=' + Math.random(),\n\t\t\tsuccess: function(msg){\n\t\t\t\tlet endTime = (new Date()).getTime(),\n\t\t\t\t\tsize = xhr.getResponseHeader('Content-Length'),\n\t\t\t\t\tduration = (endTime - startTime) / 1000,\n\t\t\t\t\tbits = size  * 8,\n\t\t\t\t\tbps = (bits / duration).toFixed(2),\n\t\t\t\t\tkbps = (bps / 1024).toFixed(2),\n\t\t\t\t\tmbps = (kbps / 1024).toFixed(2);\n\n\t\t\t\tif(typeof callback == 'function'){\n\t\t\t\t\tcallback({\n\t\t\t\t\t\t\"url\": url,\n\t\t\t\t\t\t\"size\": size,\n\t\t\t\t\t\t\"bps\": bps,\n\t\t\t\t\t\t\"kbps\": kbps,\n\t\t\t\t\t\t\"mbps\": mbps\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tscope.log(\"Boreas.network.bandwidthTest: callback не является функцией\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/network.js","/**\r\n * Класс для работы с событиями модуля\r\n *\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 07.06.2017\r\n * Time: 15:40\r\n */\r\n\r\nimport base from './base';\r\n\r\nexport default class event extends base {\r\n\r\n\t/**\r\n\t * Конструктор класса, добавление private свойств\r\n\t * @param params\r\n\t */\r\n\tconstructor (params = {}){\r\n\t\tsuper();\r\n\t\tthis.name = (typeof params.name != 'undefined')?params.name:null;\r\n\t\tthis.handlers = [];\r\n\t}\r\n\r\n\t/**\r\n\t * Добавление обработчика события\r\n\t * @param params Параметры обработчика\r\n\t * @returns {boolean}\r\n\t */\r\n\taddHandler(params = {}){\r\n\t\tvar handler = {};\r\n\t\tif(typeof params == 'object' && typeof params.callback == 'function'){\r\n\t\t\thandler = params;\r\n\t\t}else if(typeof params == 'function'){\r\n\t\t\thandler.callback = params;\r\n\t\t}else{\r\n\t\t\tthis.log('Неправильные параметры хэндлера');\r\n\t\t}\r\n\r\n\t\tif(typeof handler.callback == 'function'){\r\n\t\t\tthis.handlers.push(handler);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Удаление обработчика события\r\n\t * @param callback Функция-обработчик, которую необходимо удалить\r\n\t * @returns {boolean}\r\n\t */\r\n\tremoveHandler(callback){\r\n\t\tif(this.handlers.length){\r\n\t\t\tthis.handlers.forEach((handler, index, object) => {\r\n\t\t\t\tif(handler.callback === callback){\r\n\t\t\t\t\tobject.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Выполнение события\r\n\t * @returns {boolean}\r\n\t */\r\n\texecute(params={}){\r\n\t\tif(this.handlers.length){\r\n\t\t\tthis.handlers.forEach((handler, i) => {\r\n\t\t\t\thandler.callback(params, handler);\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/event.js","/**\r\n * @author Anton Desin <anton.desin@gmail.com>\r\n * @link http://pirogov.ru/ Бюро Пирогова\r\n * Date: 08.06.2017\r\n * Time: 11:22\r\n */\r\n\r\nimport application from './lib/application';\r\nimport module from './lib/module';\r\nimport handler from './modules/preloader/handler';\r\nimport extend from './lib/extend';\r\nimport network from './lib/network';\r\n\r\nexport {\r\n\tapplication,\r\n\tmodule,\r\n\textend,\r\n\thandler as preloaderHandler,\r\n\tnetwork\r\n};\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","var map = {\n\t\"./loader\": 5,\n\t\"./loader.js\": 5,\n\t\"./preloader\": 6,\n\t\"./preloader.js\": 6,\n\t\"./preloader/handler\": 1,\n\t\"./preloader/handler.js\": 1,\n\t\"./preloader/imagesHandler\": 3,\n\t\"./preloader/imagesHandler.js\": 3,\n\t\"./preloader/mediaHandler\": 4,\n\t\"./preloader/mediaHandler.js\": 4\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 12;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules ^\\.\\/.*$\n// module id = 12\n// module chunks = 0 1"],"sourceRoot":""}